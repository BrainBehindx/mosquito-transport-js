{"version":3,"file":"index.js","sources":["../../../node_modules/subscription-listener/index.js","../../../src/helpers/listeners.js","../../../node_modules/crypto-js/core.js","../../../node_modules/crypto-js/enc-base64.js","../../../node_modules/crypto-js/md5.js","../../../node_modules/crypto-js/sha1.js","../../../node_modules/crypto-js/evpkdf.js","../../../node_modules/crypto-js/hmac.js","../../../node_modules/crypto-js/cipher-core.js","../../../node_modules/crypto-js/aes.js","../../../node_modules/crypto-js/enc-utf8.js","../../../node_modules/tweetnacl/nacl-fast.js","../../../src/helpers/peripherals.js","../../../src/helpers/values.js","../../../src/helpers/variables.js","../../../src/helpers/utils.js","../../../node_modules/engine.io-parser/build/esm/commons.js","../../../node_modules/engine.io-parser/build/esm/encodePacket.js","../../../node_modules/engine.io-parser/build/esm/decodePacket.js","../../../node_modules/engine.io-parser/build/esm/index.js","../../../node_modules/@socket.io/component-emitter/index.mjs","../../../node_modules/engine.io-client/build/esm/globalThis.js","../../../node_modules/engine.io-client/build/esm/util.js","../../../node_modules/engine.io-client/build/esm/transport.js","../../../node_modules/engine.io-client/build/esm/contrib/yeast.js","../../../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../../node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","../../../node_modules/engine.io-client/build/esm/transports/xmlhttprequest.js","../../../node_modules/engine.io-client/build/esm/transports/polling.js","../../../node_modules/ws/lib/constants.js","../../../node_modules/ws/lib/buffer-util.js","../../../node_modules/ws/lib/limiter.js","../../../node_modules/ws/lib/permessage-deflate.js","../../../node_modules/ws/lib/validation.js","../../../node_modules/ws/lib/receiver.js","../../../node_modules/ws/lib/sender.js","../../../node_modules/ws/lib/event-target.js","../../../node_modules/ws/lib/extension.js","../../../node_modules/ws/lib/websocket.js","../../../node_modules/engine.io-client/build/esm/transports/websocket-constructor.js","../../../node_modules/engine.io-client/build/esm/transports/websocket.js","../../../node_modules/engine.io-client/build/esm/transports/index.js","../../../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../../node_modules/engine.io-client/build/esm/socket.js","../../../node_modules/socket.io-parser/build/esm/is-binary.js","../../../node_modules/socket.io-parser/build/esm/binary.js","../../../node_modules/socket.io-parser/build/esm/index.js","../../../node_modules/socket.io-client/build/esm/on.js","../../../node_modules/socket.io-client/build/esm/socket.js","../../../node_modules/socket.io-client/build/esm/contrib/backo2.js","../../../node_modules/socket.io-client/build/esm/manager.js","../../../node_modules/socket.io-client/build/esm/index.js","../../../node_modules/socket.io-client/build/esm/url.js","../../../src/helpers/EngineApi.js","../../../node_modules/set-large-timeout/index.js","../../../src/products/auth/accessor.js","../../../src/products/auth/index.js","../../../node_modules/lodash/isArray.js","../../../node_modules/lodash/_freeGlobal.js","../../../node_modules/lodash/_root.js","../../../node_modules/lodash/_Symbol.js","../../../node_modules/lodash/_getRawTag.js","../../../node_modules/lodash/_objectToString.js","../../../node_modules/lodash/_baseGetTag.js","../../../node_modules/lodash/isObjectLike.js","../../../node_modules/lodash/isSymbol.js","../../../node_modules/lodash/_isKey.js","../../../node_modules/lodash/isObject.js","../../../node_modules/lodash/isFunction.js","../../../node_modules/lodash/_isMasked.js","../../../node_modules/lodash/_coreJsData.js","../../../node_modules/lodash/_toSource.js","../../../node_modules/lodash/_baseIsNative.js","../../../node_modules/lodash/_getValue.js","../../../node_modules/lodash/_getNative.js","../../../node_modules/lodash/_nativeCreate.js","../../../node_modules/lodash/_hashClear.js","../../../node_modules/lodash/_hashDelete.js","../../../node_modules/lodash/_hashGet.js","../../../node_modules/lodash/_hashHas.js","../../../node_modules/lodash/_hashSet.js","../../../node_modules/lodash/_Hash.js","../../../node_modules/lodash/_listCacheClear.js","../../../node_modules/lodash/eq.js","../../../node_modules/lodash/_assocIndexOf.js","../../../node_modules/lodash/_listCacheDelete.js","../../../node_modules/lodash/_listCacheGet.js","../../../node_modules/lodash/_listCacheHas.js","../../../node_modules/lodash/_listCacheSet.js","../../../node_modules/lodash/_ListCache.js","../../../node_modules/lodash/_Map.js","../../../node_modules/lodash/_mapCacheClear.js","../../../node_modules/lodash/_isKeyable.js","../../../node_modules/lodash/_getMapData.js","../../../node_modules/lodash/_mapCacheDelete.js","../../../node_modules/lodash/_mapCacheGet.js","../../../node_modules/lodash/_mapCacheHas.js","../../../node_modules/lodash/_mapCacheSet.js","../../../node_modules/lodash/_MapCache.js","../../../node_modules/lodash/memoize.js","../../../node_modules/lodash/_memoizeCapped.js","../../../node_modules/lodash/_stringToPath.js","../../../node_modules/lodash/_arrayMap.js","../../../node_modules/lodash/_baseToString.js","../../../node_modules/lodash/toString.js","../../../node_modules/lodash/_castPath.js","../../../node_modules/lodash/_toKey.js","../../../node_modules/lodash/_baseGet.js","../../../node_modules/lodash/get.js","../../../node_modules/lodash/_stackClear.js","../../../node_modules/lodash/_stackHas.js","../../../node_modules/lodash/_stackSet.js","../../../node_modules/lodash/_Stack.js","../../../node_modules/lodash/_stackDelete.js","../../../node_modules/lodash/_stackGet.js","../../../node_modules/lodash/_setCacheHas.js","../../../node_modules/lodash/_SetCache.js","../../../node_modules/lodash/_setCacheAdd.js","../../../node_modules/lodash/_arraySome.js","../../../node_modules/lodash/_cacheHas.js","../../../node_modules/lodash/_equalArrays.js","../../../node_modules/lodash/_mapToArray.js","../../../node_modules/lodash/_setToArray.js","../../../node_modules/lodash/_equalByTag.js","../../../node_modules/lodash/_Uint8Array.js","../../../node_modules/lodash/_arrayPush.js","../../../node_modules/lodash/_baseGetAllKeys.js","../../../node_modules/lodash/_arrayFilter.js","../../../node_modules/lodash/stubArray.js","../../../node_modules/lodash/_getSymbols.js","../../../node_modules/lodash/_baseTimes.js","../../../node_modules/lodash/_baseIsArguments.js","../../../node_modules/lodash/isArguments.js","../../../node_modules/lodash/stubFalse.js","../../../node_modules/lodash/isBuffer.js","../../../node_modules/lodash/_isIndex.js","../../../node_modules/lodash/isLength.js","../../../node_modules/lodash/_baseIsTypedArray.js","../../../node_modules/lodash/_baseUnary.js","../../../node_modules/lodash/_nodeUtil.js","../../../node_modules/lodash/isTypedArray.js","../../../node_modules/lodash/_arrayLikeKeys.js","../../../node_modules/lodash/_isPrototype.js","../../../node_modules/lodash/_overArg.js","../../../node_modules/lodash/_nativeKeys.js","../../../node_modules/lodash/_baseKeys.js","../../../node_modules/lodash/isArrayLike.js","../../../node_modules/lodash/keys.js","../../../node_modules/lodash/_getAllKeys.js","../../../node_modules/lodash/_equalObjects.js","../../../node_modules/lodash/_getTag.js","../../../node_modules/lodash/_DataView.js","../../../node_modules/lodash/_Promise.js","../../../node_modules/lodash/_Set.js","../../../node_modules/lodash/_WeakMap.js","../../../node_modules/lodash/_baseIsEqualDeep.js","../../../node_modules/lodash/_baseIsEqual.js","../../../node_modules/lodash/isEqual.js","../../../src/products/database/validator.js","../../../node_modules/lodash/_defineProperty.js","../../../node_modules/lodash/_baseAssignValue.js","../../../node_modules/lodash/_assignValue.js","../../../node_modules/lodash/_baseSet.js","../../../node_modules/lodash/set.js","../../../node_modules/lodash/last.js","../../../node_modules/lodash/_baseSlice.js","../../../node_modules/lodash/_parent.js","../../../node_modules/lodash/_baseUnset.js","../../../node_modules/lodash/unset.js","../../../src/products/database/accessor.js","../../../src/products/database/index.js","../../../src/products/storage/index.js","../../../src/products/database/types.js","../../../src/products/http_callable/index.js","../../../node_modules/json-buffer/index.js","../../../src/index.js"],"sourcesContent":["\nexport default class SubscriptionListener {\n    constructor() {\n        this.listenerMap = {};\n        this.lastTriggerValueMap = {};\n        this.triggeredKeys = {};\n    }\n\n    listenTo(key, callback, useLastValue = false) {\n        if (typeof callback !== 'function') throw `expected a function in listenTo() second argument \"${callback}\"`;\n        if (typeof useLastValue !== 'boolean') throw `expected a boolean in listenTo() third argument but got \"${useLastValue}\"`;\n        if (!this.listenerMap[key]) this.listenerMap[key] = { ite: 0, triggers: {} };\n\n        const node = `${++this.listenerMap[key].ite}`;\n\n        let hasCancelled;\n        this.listenerMap[key].triggers[node] = callback;\n\n        if (useLastValue)\n            setTimeout(() => {\n                if (!hasCancelled) callback?.(...(this.lastTriggerValueMap[key] || []));\n            }, 0);\n\n        return () => {\n            if (!hasCancelled) {\n                delete this.listenerMap[key].triggers[node];\n                if (!Object.keys(this.listenerMap[key].triggers).length) delete this.listenerMap[key];\n            }\n            hasCancelled = true;\n        }\n    }\n\n    hasDispatched(key) {\n        return !!this.triggeredKeys[key];\n    }\n\n    deleteDispatch(key) {\n        if (this.lastTriggerValueMap[key]) delete this.lastTriggerValueMap[key];\n        if (this.triggeredKeys[key]) delete this.triggeredKeys[key];\n    }\n\n    dispatch() {\n        const param = [...(arguments || [])],\n            key = param[0],\n            value = param.filter((_, i) => i);\n\n        if (!key) throw `expected a string in dispatch() first argument but got \"${key}\"`;\n\n        Object.keys(this.listenerMap[key]?.triggers || {}).forEach(e => {\n            this.listenerMap[key]?.triggers[e]?.(...value);\n        });\n\n        this.lastTriggerValueMap[key] = value;\n        this.triggeredKeys[key] = true;\n    }\n};","import SubscriptionListener from \"subscription-listener\";\n\nexport const AuthTokenListener = new SubscriptionListener();\nexport const TokenRefreshListener = new SubscriptionListener();\nexport const StoreReadyListener = new SubscriptionListener();\nexport const ServerReachableListener = new SubscriptionListener();\nexport const DatabaseRecordsListener = new SubscriptionListener();\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/*globals window, global, require*/\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\n\t    var crypto;\n\n\t    // Native crypto from window (Browser)\n\t    if (typeof window !== 'undefined' && window.crypto) {\n\t        crypto = window.crypto;\n\t    }\n\n\t    // Native crypto in web worker (Browser)\n\t    if (typeof self !== 'undefined' && self.crypto) {\n\t        crypto = self.crypto;\n\t    }\n\n\t    // Native crypto from worker\n\t    if (typeof globalThis !== 'undefined' && globalThis.crypto) {\n\t        crypto = globalThis.crypto;\n\t    }\n\n\t    // Native (experimental IE 11) crypto from window (Browser)\n\t    if (!crypto && typeof window !== 'undefined' && window.msCrypto) {\n\t        crypto = window.msCrypto;\n\t    }\n\n\t    // Native crypto from global (NodeJS)\n\t    if (!crypto && typeof global !== 'undefined' && global.crypto) {\n\t        crypto = global.crypto;\n\t    }\n\n\t    // Native crypto import via require (NodeJS)\n\t    if (!crypto && typeof require === 'function') {\n\t        try {\n\t            crypto = require('crypto');\n\t        } catch (err) {}\n\t    }\n\n\t    /*\n\t     * Cryptographically secure pseudorandom number generator\n\t     *\n\t     * As Math.random() is cryptographically not safe to use\n\t     */\n\t    var cryptoSecureRandomInt = function () {\n\t        if (crypto) {\n\t            // Use getRandomValues method (Browser)\n\t            if (typeof crypto.getRandomValues === 'function') {\n\t                try {\n\t                    return crypto.getRandomValues(new Uint32Array(1))[0];\n\t                } catch (err) {}\n\t            }\n\n\t            // Use randomBytes method (NodeJS)\n\t            if (typeof crypto.randomBytes === 'function') {\n\t                try {\n\t                    return crypto.randomBytes(4).readInt32LE();\n\t                } catch (err) {}\n\t            }\n\t        }\n\n\t        throw new Error('Native crypto module could not be used to get secure random number.');\n\t    };\n\n\t    /*\n\t     * Local polyfill of Object.create\n\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {}\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }());\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var j = 0; j < thatSigBytes; j += 4) {\n\t                    thisWords[(thisSigBytes + j) >>> 2] = thatWords[j >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            for (var i = 0; i < nBytes; i += 4) {\n\t                words.push(cryptoSecureRandomInt());\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            var processedWords;\n\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              var bitsCombined = bits1 | bits2;\n\t              words[nBytes >>> 2] |= bitsCombined << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha1\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha1\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_algo = C.algo;\n\t    var MD5 = C_algo.MD5;\n\n\t    /**\n\t     * This key derivation function is meant to conform with EVP_BytesToKey.\n\t     * www.openssl.org/docs/crypto/EVP_BytesToKey.html\n\t     */\n\t    var EvpKDF = C_algo.EvpKDF = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {number} keySize The key size in words to generate. Default: 4 (128 bits)\n\t         * @property {Hasher} hasher The hash algorithm to use. Default: MD5\n\t         * @property {number} iterations The number of iterations to perform. Default: 1\n\t         */\n\t        cfg: Base.extend({\n\t            keySize: 128/32,\n\t            hasher: MD5,\n\t            iterations: 1\n\t        }),\n\n\t        /**\n\t         * Initializes a newly created key derivation function.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for the derivation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create();\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8 });\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8, iterations: 1000 });\n\t         */\n\t        init: function (cfg) {\n\t            this.cfg = this.cfg.extend(cfg);\n\t        },\n\n\t        /**\n\t         * Derives a key from a password.\n\t         *\n\t         * @param {WordArray|string} password The password.\n\t         * @param {WordArray|string} salt A salt.\n\t         *\n\t         * @return {WordArray} The derived key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var key = kdf.compute(password, salt);\n\t         */\n\t        compute: function (password, salt) {\n\t            var block;\n\n\t            // Shortcut\n\t            var cfg = this.cfg;\n\n\t            // Init hasher\n\t            var hasher = cfg.hasher.create();\n\n\t            // Initial values\n\t            var derivedKey = WordArray.create();\n\n\t            // Shortcuts\n\t            var derivedKeyWords = derivedKey.words;\n\t            var keySize = cfg.keySize;\n\t            var iterations = cfg.iterations;\n\n\t            // Generate key\n\t            while (derivedKeyWords.length < keySize) {\n\t                if (block) {\n\t                    hasher.update(block);\n\t                }\n\t                block = hasher.update(password).finalize(salt);\n\t                hasher.reset();\n\n\t                // Iterations\n\t                for (var i = 1; i < iterations; i++) {\n\t                    block = hasher.finalize(block);\n\t                    hasher.reset();\n\t                }\n\n\t                derivedKey.concat(block);\n\t            }\n\t            derivedKey.sigBytes = keySize * 4;\n\n\t            return derivedKey;\n\t        }\n\t    });\n\n\t    /**\n\t     * Derives a key from a password.\n\t     *\n\t     * @param {WordArray|string} password The password.\n\t     * @param {WordArray|string} salt A salt.\n\t     * @param {Object} cfg (Optional) The configuration options to use for this computation.\n\t     *\n\t     * @return {WordArray} The derived key.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var key = CryptoJS.EvpKDF(password, salt);\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8 });\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8, iterations: 1000 });\n\t     */\n\t    C.EvpKDF = function (password, salt, cfg) {\n\t        return EvpKDF.create(cfg).compute(password, salt);\n\t    };\n\t}());\n\n\n\treturn CryptoJS.EvpKDF;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./evpkdf\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./evpkdf\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t/**\n\t * Cipher core components.\n\t */\n\tCryptoJS.lib.Cipher || (function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var Base64 = C_enc.Base64;\n\t    var C_algo = C.algo;\n\t    var EvpKDF = C_algo.EvpKDF;\n\n\t    /**\n\t     * Abstract base cipher template.\n\t     *\n\t     * @property {number} keySize This cipher's key size. Default: 4 (128 bits)\n\t     * @property {number} ivSize This cipher's IV size. Default: 4 (128 bits)\n\t     * @property {number} _ENC_XFORM_MODE A constant representing encryption mode.\n\t     * @property {number} _DEC_XFORM_MODE A constant representing decryption mode.\n\t     */\n\t    var Cipher = C_lib.Cipher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {WordArray} iv The IV to use for this operation.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Creates this cipher in encryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createEncryptor: function (key, cfg) {\n\t            return this.create(this._ENC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Creates this cipher in decryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createDecryptor: function (key, cfg) {\n\t            return this.create(this._DEC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created cipher.\n\t         *\n\t         * @param {number} xformMode Either the encryption or decryption transormation mode constant.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.create(CryptoJS.algo.AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n\t         */\n\t        init: function (xformMode, key, cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Store transform mode and key\n\t            this._xformMode = xformMode;\n\t            this._key = key;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this cipher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     cipher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-cipher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Adds data to be encrypted or decrypted.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.process('data');\n\t         *     var encrypted = cipher.process(wordArray);\n\t         */\n\t        process: function (dataUpdate) {\n\t            // Append\n\t            this._append(dataUpdate);\n\n\t            // Process available blocks\n\t            return this._process();\n\t        },\n\n\t        /**\n\t         * Finalizes the encryption or decryption process.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The final data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after final processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.finalize();\n\t         *     var encrypted = cipher.finalize('data');\n\t         *     var encrypted = cipher.finalize(wordArray);\n\t         */\n\t        finalize: function (dataUpdate) {\n\t            // Final data update\n\t            if (dataUpdate) {\n\t                this._append(dataUpdate);\n\t            }\n\n\t            // Perform concrete-cipher logic\n\t            var finalProcessedData = this._doFinalize();\n\n\t            return finalProcessedData;\n\t        },\n\n\t        keySize: 128/32,\n\n\t        ivSize: 128/32,\n\n\t        _ENC_XFORM_MODE: 1,\n\n\t        _DEC_XFORM_MODE: 2,\n\n\t        /**\n\t         * Creates shortcut functions to a cipher's object interface.\n\t         *\n\t         * @param {Cipher} cipher The cipher to create a helper for.\n\t         *\n\t         * @return {Object} An object with encrypt and decrypt shortcut functions.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var AES = CryptoJS.lib.Cipher._createHelper(CryptoJS.algo.AES);\n\t         */\n\t        _createHelper: (function () {\n\t            function selectCipherStrategy(key) {\n\t                if (typeof key == 'string') {\n\t                    return PasswordBasedCipher;\n\t                } else {\n\t                    return SerializableCipher;\n\t                }\n\t            }\n\n\t            return function (cipher) {\n\t                return {\n\t                    encrypt: function (message, key, cfg) {\n\t                        return selectCipherStrategy(key).encrypt(cipher, message, key, cfg);\n\t                    },\n\n\t                    decrypt: function (ciphertext, key, cfg) {\n\t                        return selectCipherStrategy(key).decrypt(cipher, ciphertext, key, cfg);\n\t                    }\n\t                };\n\t            };\n\t        }())\n\t    });\n\n\t    /**\n\t     * Abstract base stream cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 1 (32 bits)\n\t     */\n\t    var StreamCipher = C_lib.StreamCipher = Cipher.extend({\n\t        _doFinalize: function () {\n\t            // Process partial blocks\n\t            var finalProcessedBlocks = this._process(!!'flush');\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 1\n\t    });\n\n\t    /**\n\t     * Mode namespace.\n\t     */\n\t    var C_mode = C.mode = {};\n\n\t    /**\n\t     * Abstract base block cipher mode template.\n\t     */\n\t    var BlockCipherMode = C_lib.BlockCipherMode = Base.extend({\n\t        /**\n\t         * Creates this mode for encryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createEncryptor(cipher, iv.words);\n\t         */\n\t        createEncryptor: function (cipher, iv) {\n\t            return this.Encryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Creates this mode for decryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createDecryptor(cipher, iv.words);\n\t         */\n\t        createDecryptor: function (cipher, iv) {\n\t            return this.Decryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created mode.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.Encryptor.create(cipher, iv.words);\n\t         */\n\t        init: function (cipher, iv) {\n\t            this._cipher = cipher;\n\t            this._iv = iv;\n\t        }\n\t    });\n\n\t    /**\n\t     * Cipher Block Chaining mode.\n\t     */\n\t    var CBC = C_mode.CBC = (function () {\n\t        /**\n\t         * Abstract base CBC mode.\n\t         */\n\t        var CBC = BlockCipherMode.extend();\n\n\t        /**\n\t         * CBC encryptor.\n\t         */\n\t        CBC.Encryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // XOR and encrypt\n\t                xorBlock.call(this, words, offset, blockSize);\n\t                cipher.encryptBlock(words, offset);\n\n\t                // Remember this block to use with next block\n\t                this._prevBlock = words.slice(offset, offset + blockSize);\n\t            }\n\t        });\n\n\t        /**\n\t         * CBC decryptor.\n\t         */\n\t        CBC.Decryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // Remember this block to use with next block\n\t                var thisBlock = words.slice(offset, offset + blockSize);\n\n\t                // Decrypt and XOR\n\t                cipher.decryptBlock(words, offset);\n\t                xorBlock.call(this, words, offset, blockSize);\n\n\t                // This block becomes the previous block\n\t                this._prevBlock = thisBlock;\n\t            }\n\t        });\n\n\t        function xorBlock(words, offset, blockSize) {\n\t            var block;\n\n\t            // Shortcut\n\t            var iv = this._iv;\n\n\t            // Choose mixing block\n\t            if (iv) {\n\t                block = iv;\n\n\t                // Remove IV for subsequent blocks\n\t                this._iv = undefined;\n\t            } else {\n\t                block = this._prevBlock;\n\t            }\n\n\t            // XOR blocks\n\t            for (var i = 0; i < blockSize; i++) {\n\t                words[offset + i] ^= block[i];\n\t            }\n\t        }\n\n\t        return CBC;\n\t    }());\n\n\t    /**\n\t     * Padding namespace.\n\t     */\n\t    var C_pad = C.pad = {};\n\n\t    /**\n\t     * PKCS #5/7 padding strategy.\n\t     */\n\t    var Pkcs7 = C_pad.Pkcs7 = {\n\t        /**\n\t         * Pads data using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to pad.\n\t         * @param {number} blockSize The multiple that the data should be padded to.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.pad(wordArray, 4);\n\t         */\n\t        pad: function (data, blockSize) {\n\t            // Shortcut\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count padding bytes\n\t            var nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n\t            // Create padding word\n\t            var paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n\t            // Create padding\n\t            var paddingWords = [];\n\t            for (var i = 0; i < nPaddingBytes; i += 4) {\n\t                paddingWords.push(paddingWord);\n\t            }\n\t            var padding = WordArray.create(paddingWords, nPaddingBytes);\n\n\t            // Add padding\n\t            data.concat(padding);\n\t        },\n\n\t        /**\n\t         * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to unpad.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.unpad(wordArray);\n\t         */\n\t        unpad: function (data) {\n\t            // Get number of padding bytes from last byte\n\t            var nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n\t            // Remove padding\n\t            data.sigBytes -= nPaddingBytes;\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract base block cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 4 (128 bits)\n\t     */\n\t    var BlockCipher = C_lib.BlockCipher = Cipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Mode} mode The block mode to use. Default: CBC\n\t         * @property {Padding} padding The padding strategy to use. Default: Pkcs7\n\t         */\n\t        cfg: Cipher.cfg.extend({\n\t            mode: CBC,\n\t            padding: Pkcs7\n\t        }),\n\n\t        reset: function () {\n\t            var modeCreator;\n\n\t            // Reset cipher\n\t            Cipher.reset.call(this);\n\n\t            // Shortcuts\n\t            var cfg = this.cfg;\n\t            var iv = cfg.iv;\n\t            var mode = cfg.mode;\n\n\t            // Reset block mode\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                modeCreator = mode.createEncryptor;\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                modeCreator = mode.createDecryptor;\n\t                // Keep at least one block in the buffer for unpadding\n\t                this._minBufferSize = 1;\n\t            }\n\n\t            if (this._mode && this._mode.__creator == modeCreator) {\n\t                this._mode.init(this, iv && iv.words);\n\t            } else {\n\t                this._mode = modeCreator.call(mode, this, iv && iv.words);\n\t                this._mode.__creator = modeCreator;\n\t            }\n\t        },\n\n\t        _doProcessBlock: function (words, offset) {\n\t            this._mode.processBlock(words, offset);\n\t        },\n\n\t        _doFinalize: function () {\n\t            var finalProcessedBlocks;\n\n\t            // Shortcut\n\t            var padding = this.cfg.padding;\n\n\t            // Finalize\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                // Pad data\n\t                padding.pad(this._data, this.blockSize);\n\n\t                // Process final blocks\n\t                finalProcessedBlocks = this._process(!!'flush');\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                // Process final blocks\n\t                finalProcessedBlocks = this._process(!!'flush');\n\n\t                // Unpad data\n\t                padding.unpad(finalProcessedBlocks);\n\t            }\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 128/32\n\t    });\n\n\t    /**\n\t     * A collection of cipher parameters.\n\t     *\n\t     * @property {WordArray} ciphertext The raw ciphertext.\n\t     * @property {WordArray} key The key to this ciphertext.\n\t     * @property {WordArray} iv The IV used in the ciphering operation.\n\t     * @property {WordArray} salt The salt used with a key derivation function.\n\t     * @property {Cipher} algorithm The cipher algorithm.\n\t     * @property {Mode} mode The block mode used in the ciphering operation.\n\t     * @property {Padding} padding The padding scheme used in the ciphering operation.\n\t     * @property {number} blockSize The block size of the cipher.\n\t     * @property {Format} formatter The default formatting strategy to convert this cipher params object to a string.\n\t     */\n\t    var CipherParams = C_lib.CipherParams = Base.extend({\n\t        /**\n\t         * Initializes a newly created cipher params object.\n\t         *\n\t         * @param {Object} cipherParams An object with any of the possible cipher parameters.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.lib.CipherParams.create({\n\t         *         ciphertext: ciphertextWordArray,\n\t         *         key: keyWordArray,\n\t         *         iv: ivWordArray,\n\t         *         salt: saltWordArray,\n\t         *         algorithm: CryptoJS.algo.AES,\n\t         *         mode: CryptoJS.mode.CBC,\n\t         *         padding: CryptoJS.pad.PKCS7,\n\t         *         blockSize: 4,\n\t         *         formatter: CryptoJS.format.OpenSSL\n\t         *     });\n\t         */\n\t        init: function (cipherParams) {\n\t            this.mixIn(cipherParams);\n\t        },\n\n\t        /**\n\t         * Converts this cipher params object to a string.\n\t         *\n\t         * @param {Format} formatter (Optional) The formatting strategy to use.\n\t         *\n\t         * @return {string} The stringified cipher params.\n\t         *\n\t         * @throws Error If neither the formatter nor the default formatter is set.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = cipherParams + '';\n\t         *     var string = cipherParams.toString();\n\t         *     var string = cipherParams.toString(CryptoJS.format.OpenSSL);\n\t         */\n\t        toString: function (formatter) {\n\t            return (formatter || this.formatter).stringify(this);\n\t        }\n\t    });\n\n\t    /**\n\t     * Format namespace.\n\t     */\n\t    var C_format = C.format = {};\n\n\t    /**\n\t     * OpenSSL formatting strategy.\n\t     */\n\t    var OpenSSLFormatter = C_format.OpenSSL = {\n\t        /**\n\t         * Converts a cipher params object to an OpenSSL-compatible string.\n\t         *\n\t         * @param {CipherParams} cipherParams The cipher params object.\n\t         *\n\t         * @return {string} The OpenSSL-compatible string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var openSSLString = CryptoJS.format.OpenSSL.stringify(cipherParams);\n\t         */\n\t        stringify: function (cipherParams) {\n\t            var wordArray;\n\n\t            // Shortcuts\n\t            var ciphertext = cipherParams.ciphertext;\n\t            var salt = cipherParams.salt;\n\n\t            // Format\n\t            if (salt) {\n\t                wordArray = WordArray.create([0x53616c74, 0x65645f5f]).concat(salt).concat(ciphertext);\n\t            } else {\n\t                wordArray = ciphertext;\n\t            }\n\n\t            return wordArray.toString(Base64);\n\t        },\n\n\t        /**\n\t         * Converts an OpenSSL-compatible string to a cipher params object.\n\t         *\n\t         * @param {string} openSSLStr The OpenSSL-compatible string.\n\t         *\n\t         * @return {CipherParams} The cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.format.OpenSSL.parse(openSSLString);\n\t         */\n\t        parse: function (openSSLStr) {\n\t            var salt;\n\n\t            // Parse base64\n\t            var ciphertext = Base64.parse(openSSLStr);\n\n\t            // Shortcut\n\t            var ciphertextWords = ciphertext.words;\n\n\t            // Test for salt\n\t            if (ciphertextWords[0] == 0x53616c74 && ciphertextWords[1] == 0x65645f5f) {\n\t                // Extract salt\n\t                salt = WordArray.create(ciphertextWords.slice(2, 4));\n\n\t                // Remove salt from ciphertext\n\t                ciphertextWords.splice(0, 4);\n\t                ciphertext.sigBytes -= 16;\n\t            }\n\n\t            return CipherParams.create({ ciphertext: ciphertext, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A cipher wrapper that returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var SerializableCipher = C_lib.SerializableCipher = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Formatter} format The formatting strategy to convert cipher param objects to and from a string. Default: OpenSSL\n\t         */\n\t        cfg: Base.extend({\n\t            format: OpenSSLFormatter\n\t        }),\n\n\t        /**\n\t         * Encrypts a message.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Encrypt\n\t            var encryptor = cipher.createEncryptor(key, cfg);\n\t            var ciphertext = encryptor.finalize(message);\n\n\t            // Shortcut\n\t            var cipherCfg = encryptor.cfg;\n\n\t            // Create and return serializable cipher params\n\t            return CipherParams.create({\n\t                ciphertext: ciphertext,\n\t                key: key,\n\t                iv: cipherCfg.iv,\n\t                algorithm: cipher,\n\t                mode: cipherCfg.mode,\n\t                padding: cipherCfg.padding,\n\t                blockSize: cipher.blockSize,\n\t                formatter: cfg.format\n\t            });\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Decrypt\n\t            var plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n\t            return plaintext;\n\t        },\n\n\t        /**\n\t         * Converts serialized ciphertext to CipherParams,\n\t         * else assumed CipherParams already and returns ciphertext unchanged.\n\t         *\n\t         * @param {CipherParams|string} ciphertext The ciphertext.\n\t         * @param {Formatter} format The formatting strategy to use to parse serialized ciphertext.\n\t         *\n\t         * @return {CipherParams} The unserialized ciphertext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n\t         */\n\t        _parse: function (ciphertext, format) {\n\t            if (typeof ciphertext == 'string') {\n\t                return format.parse(ciphertext, this);\n\t            } else {\n\t                return ciphertext;\n\t            }\n\t        }\n\t    });\n\n\t    /**\n\t     * Key derivation function namespace.\n\t     */\n\t    var C_kdf = C.kdf = {};\n\n\t    /**\n\t     * OpenSSL key derivation function.\n\t     */\n\t    var OpenSSLKdf = C_kdf.OpenSSL = {\n\t        /**\n\t         * Derives a key and IV from a password.\n\t         *\n\t         * @param {string} password The password to derive from.\n\t         * @param {number} keySize The size in words of the key to generate.\n\t         * @param {number} ivSize The size in words of the IV to generate.\n\t         * @param {WordArray|string} salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n\t         *\n\t         * @return {CipherParams} A cipher params object with the key, IV, and salt.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32);\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n\t         */\n\t        execute: function (password, keySize, ivSize, salt, hasher) {\n\t            // Generate random salt\n\t            if (!salt) {\n\t                salt = WordArray.random(64/8);\n\t            }\n\n\t            // Derive key and IV\n\t            if (!hasher) {\n\t                var key = EvpKDF.create({ keySize: keySize + ivSize }).compute(password, salt);\n\t            } else {\n\t                var key = EvpKDF.create({ keySize: keySize + ivSize, hasher: hasher }).compute(password, salt);\n\t            }\n\n\n\t            // Separate key and IV\n\t            var iv = WordArray.create(key.words.slice(keySize), ivSize * 4);\n\t            key.sigBytes = keySize * 4;\n\n\t            // Return params\n\t            return CipherParams.create({ key: key, iv: iv, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A serializable cipher wrapper that derives the key from a password,\n\t     * and returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var PasswordBasedCipher = C_lib.PasswordBasedCipher = SerializableCipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {KDF} kdf The key derivation function to use to generate a key and IV from a password. Default: OpenSSL\n\t         */\n\t        cfg: SerializableCipher.cfg.extend({\n\t            kdf: OpenSSLKdf\n\t        }),\n\n\t        /**\n\t         * Encrypts a message using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password');\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, cfg.salt, cfg.hasher);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Encrypt\n\t            var ciphertext = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, cfg);\n\n\t            // Mix in derived params\n\t            ciphertext.mixIn(derivedParams);\n\n\t            return ciphertext;\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, 'password', { format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt, cfg.hasher);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Decrypt\n\t            var plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, cfg);\n\n\t            return plaintext;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./enc-base64\"), require(\"./md5\"), require(\"./evpkdf\"), require(\"./cipher-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./enc-base64\", \"./md5\", \"./evpkdf\", \"./cipher-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var BlockCipher = C_lib.BlockCipher;\n\t    var C_algo = C.algo;\n\n\t    // Lookup tables\n\t    var SBOX = [];\n\t    var INV_SBOX = [];\n\t    var SUB_MIX_0 = [];\n\t    var SUB_MIX_1 = [];\n\t    var SUB_MIX_2 = [];\n\t    var SUB_MIX_3 = [];\n\t    var INV_SUB_MIX_0 = [];\n\t    var INV_SUB_MIX_1 = [];\n\t    var INV_SUB_MIX_2 = [];\n\t    var INV_SUB_MIX_3 = [];\n\n\t    // Compute lookup tables\n\t    (function () {\n\t        // Compute double table\n\t        var d = [];\n\t        for (var i = 0; i < 256; i++) {\n\t            if (i < 128) {\n\t                d[i] = i << 1;\n\t            } else {\n\t                d[i] = (i << 1) ^ 0x11b;\n\t            }\n\t        }\n\n\t        // Walk GF(2^8)\n\t        var x = 0;\n\t        var xi = 0;\n\t        for (var i = 0; i < 256; i++) {\n\t            // Compute sbox\n\t            var sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n\t            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n\t            SBOX[x] = sx;\n\t            INV_SBOX[sx] = x;\n\n\t            // Compute multiplication\n\t            var x2 = d[x];\n\t            var x4 = d[x2];\n\t            var x8 = d[x4];\n\n\t            // Compute sub bytes, mix columns tables\n\t            var t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n\t            SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n\t            SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n\t            SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n\t            SUB_MIX_3[x] = t;\n\n\t            // Compute inv sub bytes, inv mix columns tables\n\t            var t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n\t            INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n\t            INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n\t            INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n\t            INV_SUB_MIX_3[sx] = t;\n\n\t            // Compute next counter\n\t            if (!x) {\n\t                x = xi = 1;\n\t            } else {\n\t                x = x2 ^ d[d[d[x8 ^ x2]]];\n\t                xi ^= d[d[xi]];\n\t            }\n\t        }\n\t    }());\n\n\t    // Precomputed Rcon lookup\n\t    var RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n\t    /**\n\t     * AES block cipher algorithm.\n\t     */\n\t    var AES = C_algo.AES = BlockCipher.extend({\n\t        _doReset: function () {\n\t            var t;\n\n\t            // Skip reset of nRounds has been set before and key did not change\n\t            if (this._nRounds && this._keyPriorReset === this._key) {\n\t                return;\n\t            }\n\n\t            // Shortcuts\n\t            var key = this._keyPriorReset = this._key;\n\t            var keyWords = key.words;\n\t            var keySize = key.sigBytes / 4;\n\n\t            // Compute number of rounds\n\t            var nRounds = this._nRounds = keySize + 6;\n\n\t            // Compute number of key schedule rows\n\t            var ksRows = (nRounds + 1) * 4;\n\n\t            // Compute key schedule\n\t            var keySchedule = this._keySchedule = [];\n\t            for (var ksRow = 0; ksRow < ksRows; ksRow++) {\n\t                if (ksRow < keySize) {\n\t                    keySchedule[ksRow] = keyWords[ksRow];\n\t                } else {\n\t                    t = keySchedule[ksRow - 1];\n\n\t                    if (!(ksRow % keySize)) {\n\t                        // Rot word\n\t                        t = (t << 8) | (t >>> 24);\n\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n\t                        // Mix Rcon\n\t                        t ^= RCON[(ksRow / keySize) | 0] << 24;\n\t                    } else if (keySize > 6 && ksRow % keySize == 4) {\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\t                    }\n\n\t                    keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n\t                }\n\t            }\n\n\t            // Compute inv key schedule\n\t            var invKeySchedule = this._invKeySchedule = [];\n\t            for (var invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n\t                var ksRow = ksRows - invKsRow;\n\n\t                if (invKsRow % 4) {\n\t                    var t = keySchedule[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 4];\n\t                }\n\n\t                if (invKsRow < 4 || ksRow <= 4) {\n\t                    invKeySchedule[invKsRow] = t;\n\t                } else {\n\t                    invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n\t                                               INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n\t                }\n\t            }\n\t        },\n\n\t        encryptBlock: function (M, offset) {\n\t            this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n\t        },\n\n\t        decryptBlock: function (M, offset) {\n\t            // Swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\n\t            this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n\t            // Inv swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\t        },\n\n\t        _doCryptBlock: function (M, offset, keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX) {\n\t            // Shortcut\n\t            var nRounds = this._nRounds;\n\n\t            // Get input, add round key\n\t            var s0 = M[offset]     ^ keySchedule[0];\n\t            var s1 = M[offset + 1] ^ keySchedule[1];\n\t            var s2 = M[offset + 2] ^ keySchedule[2];\n\t            var s3 = M[offset + 3] ^ keySchedule[3];\n\n\t            // Key schedule row counter\n\t            var ksRow = 4;\n\n\t            // Rounds\n\t            for (var round = 1; round < nRounds; round++) {\n\t                // Shift rows, sub bytes, mix columns, add round key\n\t                var t0 = SUB_MIX_0[s0 >>> 24] ^ SUB_MIX_1[(s1 >>> 16) & 0xff] ^ SUB_MIX_2[(s2 >>> 8) & 0xff] ^ SUB_MIX_3[s3 & 0xff] ^ keySchedule[ksRow++];\n\t                var t1 = SUB_MIX_0[s1 >>> 24] ^ SUB_MIX_1[(s2 >>> 16) & 0xff] ^ SUB_MIX_2[(s3 >>> 8) & 0xff] ^ SUB_MIX_3[s0 & 0xff] ^ keySchedule[ksRow++];\n\t                var t2 = SUB_MIX_0[s2 >>> 24] ^ SUB_MIX_1[(s3 >>> 16) & 0xff] ^ SUB_MIX_2[(s0 >>> 8) & 0xff] ^ SUB_MIX_3[s1 & 0xff] ^ keySchedule[ksRow++];\n\t                var t3 = SUB_MIX_0[s3 >>> 24] ^ SUB_MIX_1[(s0 >>> 16) & 0xff] ^ SUB_MIX_2[(s1 >>> 8) & 0xff] ^ SUB_MIX_3[s2 & 0xff] ^ keySchedule[ksRow++];\n\n\t                // Update state\n\t                s0 = t0;\n\t                s1 = t1;\n\t                s2 = t2;\n\t                s3 = t3;\n\t            }\n\n\t            // Shift rows, sub bytes, add round key\n\t            var t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];\n\n\t            // Set output\n\t            M[offset]     = t0;\n\t            M[offset + 1] = t1;\n\t            M[offset + 2] = t2;\n\t            M[offset + 3] = t3;\n\t        },\n\n\t        keySize: 256/32\n\t    });\n\n\t    /**\n\t     * Shortcut functions to the cipher's object interface.\n\t     *\n\t     * @example\n\t     *\n\t     *     var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);\n\t     *     var plaintext  = CryptoJS.AES.decrypt(ciphertext, key, cfg);\n\t     */\n\t    C.AES = BlockCipher._createHelper(AES);\n\t}());\n\n\n\treturn CryptoJS.AES;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","import { Buffer } from \"buffer\";\nimport { ServerReachableListener } from \"./listeners\";\nimport aes_pkg from 'crypto-js/aes.js';\nimport Utf8Encoder from 'crypto-js/enc-utf8.js';\nimport naclPkg from 'tweetnacl';\n\nconst { encrypt, decrypt } = aes_pkg;\nconst { box, randomBytes } = naclPkg;\n\nexport const simplifyError = (error, message) => ({\n    simpleError: { error, message }\n});\n\nexport const simplifyCaughtError = (e) => e?.simpleError ? e : simplifyError('unexpected_error', `${e}`);\n\nexport const everyEntrie = (obj, callback) => {\n    if (typeof obj !== 'object' || Array.isArray(obj)) return;\n    oEntries(obj).forEach(e => {\n        callback?.(e);\n    });\n}\n\nexport const flatEntries = (obj) => oEntries(obj);\n\nexport const flatRawEntries = () => oEntries(obj, false);\n\nexport const oEntries = (obj, includeObj = true) => {\n    let o = [];\n\n    Object.entries(obj).forEach(e => {\n        o.push(e);\n        if (e[1] && typeof e[1] === 'object' && !Array.isArray(e[1])) {\n            o = [...o, ...oEntries(e[1])];\n        }\n    });\n\n    return o.filter(v => includeObj || typeof v[1] !== 'object' || Array.isArray(v[1]));\n}\n\nexport const IS_RAW_OBJECT = (e) => e && typeof e === 'object' && !Array.isArray(e) && !(e instanceof Date);\n\nexport const IS_WHOLE_NUMBER = (v) => typeof v === 'number' && !`${v}`.includes('.');\n\nexport const IS_DECIMAL_NUMBER = (v) => typeof v === 'number' && `${v}`.includes('.');\n\nexport const queryEntries = (obj, lastPath = '', exceptions = [], seperator = '.') => {\n    let o = [];\n    const isArraySeperator = Array.isArray(lastPath);\n\n    Object.entries(obj).forEach(([key, value]) => {\n        if (IS_RAW_OBJECT(value) && !exceptions.includes(key)) {\n            o = [\n                ...o,\n                ...queryEntries(\n                    value,\n                    isArraySeperator ? [...lastPath, key] : `${lastPath}${key}${seperator}`,\n                    exceptions,\n                    seperator\n                )\n            ];\n        } else o.push(isArraySeperator ? [[...lastPath, key], value] : [`${lastPath}${key}`, value]);\n    });\n\n    return o;\n}\n\nexport const objToUniqueString = (obj) => {\n    const keys = [],\n        values = [];\n\n    if (Array.isArray(obj)) {\n        obj.forEach(e => {\n            if (IS_RAW_OBJECT(e)) {\n                queryEntries(e).map(([k, v]) => {\n                    keys.push(k);\n                    values.push(v);\n                });\n            } else keys.push(Array.isArray(e) ? JSON.stringify(e) : `${e}`);\n        });\n    } else if (!IS_RAW_OBJECT(obj))\n        return `${obj}`;\n    else\n        queryEntries(obj).map(([k, v]) => {\n            keys.push(k);\n            values.push(v);\n        });\n\n    return [\n        ...keys.sort(),\n        ...values.map(v => `${Array.isArray(v) ? JSON.stringify(v) : v}`).sort()\n    ].join(',');\n}\n\nexport const cloneInstance = (v) => {\n    if (v && typeof v === 'object') {\n        return Array.isArray(v) ? [...v] : { ...v };\n    }\n    return v;\n}\n\nexport const listenReachableServer = (callback, projectUrl) => ServerReachableListener.listenTo(projectUrl, t => {\n    if (typeof t === 'boolean') callback?.(t);\n}, true);\n\nexport const prefixStoragePath = (path, prefix = 'file:///') => {\n    if (!path) return path;\n\n    if (!path.startsWith('/') && !path.includes(':')) return prefix + path;\n\n    return prefix + path.split('/').filter((v, i) => i && v).join('/');\n}\n\nexport const getUrlExtension = (url) => {\n    const r = url.split(/[#?]/)[0].split(\".\").pop().trim();\n    return r === url ? '' : r;\n}\n\nexport const niceTry = (promise) => new Promise(async resolve => {\n\n    try {\n        const r = await promise();\n        resolve(r);\n    } catch (e) { resolve(); }\n});\n\nexport const shuffleArray = (n) => {\n    const array = [...n];\n    let currentIndex = array.length, randomIndex;\n\n    while (currentIndex != 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n\n        [array[currentIndex], array[randomIndex]] = [\n            array[randomIndex], array[currentIndex]\n        ];\n    }\n\n    return array;\n}\n\nexport function sortArrayByObjectKey(arr = [], key) {\n    return arr.slice(0).sort(function (a, b) {\n        const left = getLodash(a, key),\n            right = getLodash(b, key);\n\n        return (left > right) ? 1 : (left < right) ? -1 : 0;\n    });\n}\n\nexport const encryptString = (txt, password, iv) => {\n    return encrypt(txt, `${password || ''}${iv || ''}`).toString();\n}\n\nexport const decryptString = (txt, password, iv) => {\n    return decrypt(txt, `${password || ''}${iv || ''}`).toString(Utf8Encoder);\n}\n\nexport const serializeE2E = (data, auth_token, serverPublicKey) => {\n    const pair = box.keyPair(),\n        nonce = randomBytes(box.nonceLength),\n        pubBase64 = Buffer.from(pair.publicKey).toString('base64'),\n        nonceBase64 = Buffer.from(nonce).toString('base64');\n\n    return [\n        `${pubBase64}.${nonceBase64}.${Buffer.from(\n            box(\n                Buffer.from(JSON.stringify([\n                    data,\n                    auth_token\n                ]), 'utf8'),\n                nonce,\n                Buffer.from(serverPublicKey, 'base64'),\n                pair.secretKey\n            )\n        ).toString('base64')}`,\n        [pair.secretKey, pair.publicKey]\n    ];\n}\n\nexport const deserializeE2E = (data, serverPublicKey, clientPrivateKey) => {\n    const [binaryNonce, binaryData] = data.split('.'),\n        baseArray = box.open(\n            Buffer.from(binaryData, 'base64'),\n            Buffer.from(binaryNonce, 'base64'),\n            Buffer.from(serverPublicKey, 'base64'),\n            clientPrivateKey\n        );\n\n    if (!baseArray) throw 'Decrypting e2e message failed';\n    return JSON.parse(Buffer.from(baseArray).toString('utf8'))[0];\n}\n\nexport const encodeBinary = (s) => Buffer.from(s, 'utf8').toString('base64');\nexport const decodeBinary = (s) => Buffer.from(s, 'base64').toString('utf8');","import { encodeBinary } from './peripherals';\n\nexport const CACHE_STORAGE_PATH = encodeBinary('MOSQUITO_TRANSPORT_FREEZER'),\n    DEFAULT_CACHE_PASSWORD = encodeBinary('MOSQUITO_TRANSPORT_CACHE_PASSWORD'),\n    DEFAULT_DB_NAME = 'DEFAULT_DB',\n    DEFAULT_DB_URL = 'mongodb://127.0.0.1:27017',\n    DEFAULT_ENCRYPT_IV = '****';\n\nexport const CACHE_PROTOCOL = {\n    LOCAL_STORAGE: 'local-storage'\n};\n\nexport const RETRIEVAL = {\n    STICKY: 'sticky',\n    STICKY_NO_AWAIT: 'sticky-no-await',\n    STICKY_RELOAD: 'sticky-reload',\n    DEFAULT: 'default',\n    CACHE_NO_AWAIT: 'cache-no-await',\n    NO_CACHE_NO_AWAIT: 'no-cache-no-await'\n};\n\nexport const DELIVERY = {\n    DEFAULT: 'default',\n    NO_CACHE: 'no-cache',\n    NO_AWAIT: 'no-await',\n    NO_AWAIT_NO_CACHE: 'no-await-no-cache',\n    AWAIT_NO_CACHE: 'await-no-cache',\n    CACHE_NO_AWAIT: 'cache-no-await'\n};\n\nexport const WRITE_OPS = {\n    $SET: '$set',\n    $PUSH: '$push',\n    $PULL: '$pull',\n    $UNSET: '$unset',\n    $INC: '$inc',\n    $MAX: '$max',\n    $MIN: '$min',\n    $MUL: '$mul',\n    $RENAME: '$rename'\n    // $SET_ON_INSERT: '$setOnInsert'\n};\nexport const WRITE_OPS_LIST = Object.values(WRITE_OPS);\n\nexport const READ_OPS = {\n    $IN: '$in',\n    $ALL: '$all',\n    $NIN: '$nin',\n    $GT: '$gt',\n    $GTE: '$gte',\n    $LT: '$lt',\n    $LTE: '$lte',\n    $TEXT: '$text',\n    // $EQ: '$eq',\n    // $REGEX: '$regex',\n    // $EXISTS: '$exists',\n    $NEAR: '$near',\n    $TYPE: '$type',\n    $SIZE: '$size',\n    // $NE: '$ne'\n};\nexport const READ_OPS_LIST = Object.values(READ_OPS);\n\nexport const Regexs = {\n    LINK: () => /(\\b(https?|ftp):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig\n}","export const Scoped = {\n    PendingIte: 0,\n    AnyProcessIte: 0,\n    IS_CONNECTED: {},\n    IS_TOKEN_READY: {},\n    InitializedProject: {},\n    ReleaseCacheData: undefined,\n    AuthJWTToken: {},\n    cacheStorageReducer: undefined,\n    TokenRefreshTimer: {},\n    LastTokenRefreshRef: {},\n    StorageProcessID: 0,\n    InitiatedForcedToken: {},\n    PendingFetchCollective: {\n        pendingProcess: {},\n        pendingResolution: {}\n    },\n    PendingDbReadCollective: {\n        pendingProcess: {},\n        pendingResolution: {}\n    }\n}\n\nexport const CacheStore = {\n    DatabaseStore: {},\n    DatabaseRecords: {},\n    DatabaseCountResult: {},\n    AuthStore: {},\n    PendingWrites: {},\n    FetchedStore: {}\n}\n\nexport const CacheConstant = { ...CacheStore };","import { ServerReachableListener, StoreReadyListener } from \"./listeners\";\nimport { CACHE_PROTOCOL, CACHE_STORAGE_PATH, DEFAULT_CACHE_PASSWORD } from \"./values\";\nimport { CacheStore, Scoped } from \"./variables\";\nimport { decryptString, encryptString, niceTry, serializeE2E } from \"./peripherals\";\n\nexport const updateCacheStore = () => {\n    try { window } catch (_) { return; }\n    const {\n        cachePassword = DEFAULT_CACHE_PASSWORD,\n        cacheProtocol = CACHE_PROTOCOL.LOCAL_STORAGE\n    } = Scoped.ReleaseCacheData;\n\n    clearTimeout(Scoped.cacheStorageReducer);\n    Scoped.cacheStorageReducer = setTimeout(() => {\n        const txt = encryptString(\n            JSON.stringify({ ...CacheStore }),\n            cachePassword,\n            cachePassword\n        );\n\n        if (cacheProtocol === CACHE_PROTOCOL.LOCAL_STORAGE) {\n            window.localStorage.setItem(CACHE_STORAGE_PATH, txt);\n        }\n    }, 500);\n}\n\nexport const releaseCacheStore = async (builder) => {\n    try { window } catch (_) { return; }\n    const {\n        cachePassword = DEFAULT_CACHE_PASSWORD,\n        cacheProtocol = CACHE_PROTOCOL.LOCAL_STORAGE\n    } = builder;\n\n    let txt;\n\n    if (cacheProtocol === CACHE_PROTOCOL.LOCAL_STORAGE) {\n        txt = window.localStorage.getItem(CACHE_STORAGE_PATH);\n    }\n\n    const j = JSON.parse(decryptString(txt || '', cachePassword, cachePassword) || '{}');\n    \n    Object.entries(j).forEach(([k, v]) => {\n        CacheStore[k] = v;\n    });\n    Object.entries(CacheStore.AuthStore).forEach(([key, value]) => {\n        Scoped.AuthJWTToken[key] = value?.token;\n    });\n    Scoped.IsStoreReady = true;\n    StoreReadyListener.dispatch('_', 'ready');\n    // TODO: commit pending write\n}\n\nexport const awaitStore = () => new Promise(resolve => {\n    if (Scoped.IsStoreReady) {\n        resolve();\n        return;\n    }\n    const l = StoreReadyListener.listenTo('_', t => {\n        if (t === 'ready') {\n            resolve();\n            l();\n        }\n    }, true);\n});\n\nexport const awaitReachableServer = (projectUrl) => new Promise(resolve => {\n    if (Scoped.IS_CONNECTED[projectUrl]) {\n        resolve();\n        return;\n    }\n    const l = ServerReachableListener.listenTo(projectUrl, t => {\n        if (t) {\n            resolve();\n            l();\n        }\n    }, true);\n});\n\nexport const getReachableServer = (projectUrl) => new Promise(resolve => {\n    if (typeof Scoped.IS_CONNECTED[projectUrl] === 'boolean') {\n        resolve(Scoped.IS_CONNECTED[projectUrl]);\n        return;\n    }\n    const l = ServerReachableListener.listenTo(projectUrl, t => {\n        if (typeof t === 'boolean') {\n            resolve(t);\n            l();\n        }\n    }, true);\n});\n\nexport const buildFetchInterface = ({ body, accessKey, authToken, method, uglify, serverE2E_PublicKey }) => {\n    if (!uglify) body = JSON.stringify({ ...body });\n    const [plate, keyPair] = uglify ? serializeE2E(body, authToken, serverE2E_PublicKey) : [undefined, []];\n\n    return [{\n        body: uglify ? plate : body,\n        cache: 'no-cache',\n        headers: {\n            'Content-type': uglify ? 'text/plain' : 'application/json',\n            'Authorization': accessKey,\n            ...((authToken && !uglify) ? { 'Mosquito-Token': authToken } : {})\n        },\n        method: method || 'POST'\n    }, keyPair];\n};\n\nexport const simplifyError = (error, message) => ({\n    simpleError: { error, message }\n});\n\nexport const validateRequestMethod = (method) => {\n    // TODO:\n}","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        const buffer = toBuffer(data);\n        return callback(encodeBuffer(buffer, supportsBinary));\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst toBuffer = data => {\n    if (Buffer.isBuffer(data)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\n// only 'message' packets can contain binary, so the type prefix is not needed\nconst encodeBuffer = (data, supportsBinary) => {\n    return supportsBinary ? data : \"b\" + data.toString(\"base64\");\n};\nexport default encodePacket;\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType)\n        };\n    }\n    if (!PACKET_TYPES_REVERSE[type]) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst mapBinary = (data, binaryType) => {\n    const isBuffer = Buffer.isBuffer(data);\n    switch (binaryType) {\n        case \"arraybuffer\":\n            return isBuffer ? toArrayBuffer(data) : data;\n        case \"nodebuffer\":\n        default:\n            return data; // assuming the data is already a Buffer\n    }\n};\nconst toArrayBuffer = (buffer) => {\n    const arrayBuffer = new ArrayBuffer(buffer.length);\n    const view = new Uint8Array(arrayBuffer);\n    for (let i = 0; i < buffer.length; i++) {\n        view[i] = buffer[i];\n    }\n    return arrayBuffer;\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const globalThisShim = global;\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","import * as XMLHttpRequestModule from \"xmlhttprequest-ssl\";\nexport const XHR = XMLHttpRequestModule.default || XMLHttpRequestModule;\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { XHR as XMLHttpRequest } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","import ws from \"ws\";\nexport const WebSocket = ws;\nexport const usingBrowserWebSocket = false;\nexport const defaultBinaryType = \"nodebuffer\";\nexport const nextTick = process.nextTick;\n","import { Transport } from \"../transport.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        // emit `error`\n        const errorSub = on(socket, \"error\", (err) => {\n            self.cleanup();\n            self._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                self.maybeReconnectOnOpen();\n            }\n        });\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            if (timeout === 0) {\n                openSubDestroy(); // prevents a race condition with the 'open' event\n            }\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                socket.close();\n                // @ts-ignore\n                socket.emit(\"error\", new Error(\"timeout\"));\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(function subDestroy() {\n                clearTimeout(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","import { encodeBinary } from './peripherals';\n\nconst apis = {\n    _readDocument: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._readDocument(baseApi)) : '_readDocument'}`,\n    _writeDocument: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._writeDocument(baseApi)) : '_writeDocument'}`,\n    _deleteCollection: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._deleteCollection(baseApi)) : '_deleteCollection'}`,\n    _queryCollection: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._queryCollection(baseApi)) : '_queryCollection'}`,\n    _writeMapDocument: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._writeMapDocument(baseApi)) : '_writeMapDocument'}`,\n    _customSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._customSignin(baseApi)) : '_customSignin'}`,\n    _customSignup: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._customSignup(baseApi)) : '_customSignup'}`,\n    _googleSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._googleSignin(baseApi)) : '_googleSignin'}`,\n    _appleSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._appleSignin(baseApi)) : '_appleSignin'}`,\n    _facebookSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._facebookSignin(baseApi)) : '_facebookSignin'}`,\n    _twitterSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._twitterSignin(baseApi)) : '_twitterSignin'}`,\n    _githubSignin: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._githubSignin(baseApi)) : '_githubSignin'}`,\n    _signOut: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._signOut(baseApi)) : '_signOut'}`,\n    _invalidateToken: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._invalidateToken(baseApi)) : '_invalidateToken'}`,\n    _refreshAuthToken: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._refreshAuthToken(baseApi)) : '_refreshAuthToken'}`,\n    _downloadFile: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._downloadFile(baseApi)) : '_downloadFile'}`,\n    _uploadFile: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._uploadFile(baseApi)) : '_uploadFile'}`,\n    _deleteFile: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._deleteFile(baseApi)) : '_deleteFile'}`,\n    _deleteFolder: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._deleteFolder(baseApi)) : '_deleteFolder'}`,\n    staticStorage: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis.staticStorage(baseApi)) : 'storage'}`,\n    _documentCount: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._documentCount(baseApi)) : '_documentCount'}`,\n    _areYouOk: (baseApi, ugly) => `${baseApi}/${ugly ? encodeBinary(apis._areYouOk(baseApi)) : '_areYouOk'}`,\n    // static path\n    _listenCollection: (ugly) => `${ugly ? encodeBinary(apis._listenCollection()) : '_listenCollection'}`,\n    _listenDocument: (ugly) => `${ugly ? encodeBinary(apis._listenDocument()) : '_listenDocument'}`,\n    _startDisconnectWriteTask: (ugly) => `${ugly ? encodeBinary(apis._startDisconnectWriteTask()) : '_startDisconnectWriteTask'}`,\n    _cancelDisconnectWriteTask: (ugly) => `${ugly ? encodeBinary(apis._cancelDisconnectWriteTask()) : '_cancelDisconnectWriteTask'}`,\n    _listenUserVerification: (ugly) => `${ugly ? encodeBinary(apis._listenUserVerification()) : '_listenUserVerification'}`\n};\n\nexport default { ...apis };","\nconst MAX_32_BITS = 0x7FFFFFFF;\nconst setLargeTimeout = (func, ms) => {\n    let cleanup;\n\n    if (ms >= MAX_32_BITS) {\n        const t = setTimeout(() => {\n            cleanup = setLargeTimeout(func, ms - MAX_32_BITS);\n        }, MAX_32_BITS);\n        cleanup = () => {\n            clearTimeout(t);\n        }\n    } else {\n        const t = setTimeout(func, ms);\n        cleanup = () => {\n            clearTimeout(t);\n        }\n    }\n\n    return () => {\n        cleanup();\n    }\n}\n\nmodule.exports = setLargeTimeout;","import setLargeTimeout from \"set-large-timeout\";\nimport { doSignOut } from \".\";\nimport EngineApi from \"../../helpers/EngineApi\";\nimport { AuthTokenListener, TokenRefreshListener } from \"../../helpers/listeners\";\nimport { decodeBinary, deserializeE2E, listenReachableServer, simplifyCaughtError } from \"../../helpers/peripherals\";\nimport { awaitReachableServer, awaitStore, buildFetchInterface, simplifyError, updateCacheStore } from \"../../helpers/utils\";\nimport { CacheStore, Scoped } from \"../../helpers/variables\";\n\nexport const listenToken = (callback, projectUrl) =>\n    AuthTokenListener.listenTo(projectUrl, (t, n) => {\n        if (t === undefined) return;\n        callback?.(t || null, n);\n    }, true);\n\nexport const injectFreshToken = async (config, { token, refreshToken }) => {\n    const { projectUrl } = config;\n\n    CacheStore.AuthStore[projectUrl] = { token, refreshToken };\n    Scoped.AuthJWTToken[projectUrl] = token;\n    updateCacheStore();\n\n    triggerAuthToken(projectUrl);\n    initTokenRefresher(config);\n}\n\nexport const parseToken = (token) => JSON.parse(decodeBinary(token.split('.')[1]));\n\nexport const triggerAuthToken = async (projectUrl, isInit) => {\n    await awaitStore();\n    AuthTokenListener.dispatch(projectUrl, CacheStore.AuthStore[projectUrl]?.token || null, isInit);\n}\n\nexport const awaitRefreshToken = (projectUrl) => new Promise(resolve => {\n    const l = TokenRefreshListener.listenTo(projectUrl, v => {\n        if (v === 'ready') {\n            l();\n            resolve();\n        }\n    }, true);\n});\n\nexport const listenTokenReady = (callback, projectUrl) => TokenRefreshListener.listenTo(projectUrl, callback, true);\n\nexport const initTokenRefresher = async (config, forceRefresh) => {\n    const { projectUrl, maxRetries } = config;\n    await awaitStore();\n    const { token } = CacheStore.AuthStore[projectUrl] || {},\n        tokenInfo = token ? parseToken(token) : undefined;\n\n    Scoped.TokenRefreshTimer[projectUrl]?.();\n\n    if (token) {\n        const hasExpire = Date.now() >= (tokenInfo.exp * 1000) - 60000,\n            rizz = () => refreshToken(config, ++Scoped.LastTokenRefreshRef[projectUrl], maxRetries, maxRetries, forceRefresh);\n\n        if (hasExpire || forceRefresh) {\n            TokenRefreshListener.dispatch(projectUrl);\n            return rizz();\n        } else {\n            TokenRefreshListener.dispatch(projectUrl, 'ready');\n            Scoped.TokenRefreshTimer[projectUrl] = setLargeTimeout(() => {\n                TokenRefreshListener.dispatch(projectUrl);\n                rizz();\n            }, ((tokenInfo.exp * 1000) - 60000) - Date.now());\n        }\n    } else if (forceRefresh) {\n        TokenRefreshListener.dispatch(projectUrl, 'ready');\n        return simplifyError('no_token_yet', 'No token is available to initiate a refresh').simpleError\n    }\n}\n\nconst refreshToken = (builder, processRef, remainRetries = 7, initialRetries = 7, isForceRefresh) => new Promise(async (resolve, reject) => {\n    const { projectUrl, serverE2E_PublicKey, accessKey, uglify } = builder;\n    const lostProcess = simplifyError('process_lost', 'The token refresh process has been lost and replace with another one');\n\n    try {\n        const { token, refreshToken: r_token } = CacheStore.AuthStore[projectUrl];\n\n        const [reqBuilder, [privateKey]] = buildFetchInterface({\n            body: { token, r_token },\n            accessKey,\n            uglify,\n            serverE2E_PublicKey\n        });\n\n        const r = await (await fetch(EngineApi._refreshAuthToken(projectUrl, uglify), reqBuilder)).json();\n\n        if (processRef !== Scoped.LastTokenRefreshRef[projectUrl]) {\n            reject(lostProcess.simpleError);\n            return;\n        }\n        if (r.simpleError) throw r;\n\n        const f = uglify ? deserializeE2E(r.e2e, serverE2E_PublicKey, privateKey) : r;\n\n        if (CacheStore.AuthStore[projectUrl]) {\n            CacheStore.AuthStore[projectUrl].token = f.result.token;\n            Scoped.AuthJWTToken[projectUrl] = f.result.token;\n\n            resolve(f.result.token);\n            triggerAuthToken(projectUrl, !Scoped.InitiatedForcedToken[projectUrl] && isForceRefresh);\n            if (isForceRefresh) Scoped.InitiatedForcedToken[projectUrl] = true;\n            updateCacheStore();\n            initTokenRefresher(builder);\n            invalidateToken(builder, token);\n        } else reject(lostProcess.simpleError);\n    } catch (e) {\n        if (e.simpleError) {\n            console.error(`refreshToken error: ${e.simpleError?.message}`);\n            doSignOut({ ...builder });\n            reject(e.simpleError);\n        } else if (remainRetries <= 0) {\n            reject(\n                processRef === Scoped.LastTokenRefreshRef[projectUrl] ?\n                    lostProcess.simpleError :\n                    simplifyError('retry_limit_reached', 'The retry limit has been reach and execution prematurely stopped').simpleError\n            );\n            console.error(`refreshToken retry exceeded, waiting for 2min before starting another retry`);\n        } else {\n            const l = listenReachableServer(c => {\n                if (processRef !== Scoped.LastTokenRefreshRef[projectUrl]) {\n                    reject(lostProcess.simpleError);\n                    l();\n                } else if (c) {\n                    l();\n                    refreshToken(builder, processRef, remainRetries - 1, initialRetries).then(resolve, reject);\n                }\n            }, projectUrl);\n        }\n    }\n});\n\nexport const invalidateToken = async (builder, token) => {\n    try {\n        const { projectUrl, accessKey, uglify, serverE2E_PublicKey } = builder;\n        await awaitReachableServer(projectUrl);\n\n        const [reqBuilder] = buildFetchInterface({\n            body: { token },\n            accessKey,\n            uglify,\n            serverE2E_PublicKey\n        });\n\n        const r = await (await fetch(EngineApi._invalidateToken(projectUrl, uglify), reqBuilder)).json();\n        if (r.simpleError) throw r;\n    } catch (e) {\n        throw simplifyCaughtError(e).simpleError;\n    }\n}","import { io } from \"socket.io-client\";\nimport EngineApi from \"../../helpers/EngineApi\";\nimport { TokenRefreshListener } from \"../../helpers/listeners\";\nimport { awaitReachableServer, awaitStore, buildFetchInterface, simplifyError, updateCacheStore } from \"../../helpers/utils\";\nimport { CacheConstant, CacheStore, Scoped } from \"../../helpers/variables\";\nimport { awaitRefreshToken, initTokenRefresher, injectFreshToken, listenToken, parseToken, triggerAuthToken } from \"./accessor\";\nimport { deserializeE2E, encodeBinary, serializeE2E, simplifyCaughtError } from \"../../helpers/peripherals\";\n\nconst {\n    _listenUserVerification,\n    _signOut,\n    _customSignin,\n    _customSignup,\n    _googleSignin\n} = EngineApi;\n\nexport class MTAuth {\n    constructor(config) {\n        this.builder = { ...config };\n    }\n\n    customSignin = (email, password) => doCustomSignin(this.builder, email, password);\n\n    customSignup = (email, password, name, metadata) => doCustomSignup(this.builder, email, password, name, metadata);\n\n    googleSignin = (token) => doGoogleSignin(this.builder, token);\n\n    appleSignin() {\n\n    }\n\n    facebookSignin() {\n\n    }\n\n    twitterSignin() {\n\n    }\n\n    githubSignin() {\n\n    }\n\n    listenVerifiedStatus(callback, onError) {\n        const { projectUrl, serverE2E_PublicKey, uglify, baseUrl, wsPrefix } = this.builder;\n\n        let socket, wasDisconnected, lastToken = Scoped.AuthJWTToken[projectUrl] || null, lastInitRef = 0;\n\n        const init = async () => {\n            const processID = ++lastInitRef;\n            await awaitRefreshToken(projectUrl);\n\n            if (!Scoped.AuthJWTToken[projectUrl]) {\n                onError?.(simplifyError('user_login_required', 'You must be signed-in to use this method').simpleError);\n                return;\n            }\n            if (processID !== lastInitRef) return;\n            const mtoken = Scoped.AuthJWTToken[projectUrl],\n                [reqBuilder, [privateKey]] = uglify ? serializeE2E({ mtoken }, undefined, serverE2E_PublicKey) : [null, []];\n\n            socket = io(`${wsPrefix}://${baseUrl}`, {\n                auth: uglify ? {\n                    e2e: reqBuilder,\n                    _m_internal: true\n                } : { mtoken, _m_internal: true },\n                transports: ['websocket', 'polling', 'flashsocket']\n            });\n\n            socket.emit(_listenUserVerification(uglify));\n\n            socket.on(\"onVerificationChanged\", ([err, verified]) => {\n                const fatal = err ? simplifyCaughtError(err).simpleError : undefined;\n                if (fatal) {\n                    onError?.(fatal);\n                } else {\n                    callback?.(uglify ? deserializeE2E(verified, serverE2E_PublicKey, privateKey) : verified);\n                }\n            });\n\n            socket.on('connect', () => {\n                if (wasDisconnected) socket.emit(_listenUserVerification(uglify));\n            });\n\n            socket.on('disconnect', () => {\n                wasDisconnected = true;\n            });\n        };\n\n        init();\n\n        const tokenListener = listenToken(t => {\n            if ((t || null) !== lastToken) {\n                socket?.close?.();\n                wasDisconnected = undefined;\n                init();\n            }\n            lastToken = t;\n        }, projectUrl);\n\n        return () => {\n            socket?.close?.();\n            tokenListener?.();\n        }\n    }\n\n    listenAuthToken = (callback) => listenToken(callback, this.builder.projectUrl);\n\n    getAuthToken = () => new Promise(resolve => {\n        const l = listenToken(t => {\n            l();\n            resolve(t || null);\n        }, this.builder.projectUrl);\n    });\n\n    listenAuth = (callback) => {\n        let lastTrig;\n\n        return listenToken((t, initToken) => {\n            const { refreshToken } = CacheStore.AuthStore[this.builder.projectUrl] || {};\n\n            if (\n                (!!t || null) !== lastTrig ||\n                initToken\n            ) callback(t ? {\n                ...parseToken(t),\n                tokenManager: {\n                    refreshToken,\n                    accessToken: t\n                }\n            } : null);\n\n            lastTrig = !!t || null;\n        }, this.builder.projectUrl);\n    }\n\n    getAuth = () => new Promise(resolve => {\n        const l = this.listenAuth(d => {\n            l();\n            resolve(d);\n        });\n    });\n\n    signOut = () => doSignOut(this.builder);\n\n    forceRefreshToken = () => initTokenRefresher(this.builder, true);\n}\n\nconst doCustomSignin = (builder, email, password) => new Promise(async (resolve, reject) => {\n    const { projectUrl, serverE2E_PublicKey, accessKey, uglify } = builder;\n\n    try {\n        await awaitStore();\n        const [reqBuilder, [privateKey]] = buildFetchInterface({\n            body: { _: `${encodeBinary(email)}.${encodeBinary(password)}` },\n            accessKey,\n            serverE2E_PublicKey,\n            uglify\n        });\n\n        const f = await (await fetch(_customSignin(projectUrl, uglify), reqBuilder)).json();\n        if (f.simpleError) throw f;\n\n        const r = uglify ? deserializeE2E(f.e2e, serverE2E_PublicKey, privateKey) : f;\n\n        resolve({\n            user: parseToken(r.result.token),\n            token: r.result.token,\n            refreshToken: r.result.refreshToken\n        });\n        await injectFreshToken(builder, r.result);\n    } catch (e) {\n        reject(simplifyCaughtError(e).simpleError);\n    }\n});\n\nconst doCustomSignup = (builder, email, password, name, metadata) => new Promise(async (resolve, reject) => {\n    const { projectUrl, serverE2E_PublicKey, accessKey, uglify } = builder;\n\n    try {\n        await awaitStore();\n        const [reqBuilder, [privateKey]] = buildFetchInterface({\n            body: {\n                _: `${encodeBinary(email)}.${encodeBinary(password)}.${(encodeBinary(name || '').trim())}`,\n                metadata,\n            },\n            accessKey,\n            serverE2E_PublicKey,\n            uglify\n        });\n\n        const f = await (await fetch(_customSignup(projectUrl, uglify), reqBuilder)).json();\n        if (f.simpleError) throw f;\n\n        const r = uglify ? deserializeE2E(f.e2e, serverE2E_PublicKey, privateKey) : f;\n\n        resolve({\n            user: parseToken(r.result.token),\n            token: r.result.token,\n            refreshToken: r.result.refreshToken\n        });\n        await injectFreshToken(builder, r.result);\n    } catch (e) {\n        reject(simplifyCaughtError(e).simpleError);\n    }\n});\n\nexport const doSignOut = async (builder) => {\n    await awaitStore();\n\n    const { projectUrl, serverE2E_PublicKey, accessKey, uglify } = builder,\n        { token, refreshToken: r_token } = CacheStore.AuthStore[projectUrl];\n\n    TokenRefreshListener.dispatch(projectUrl);\n    if (CacheStore.AuthStore[projectUrl]) delete CacheStore.AuthStore[projectUrl];\n    if (token) delete Scoped.AuthJWTToken[projectUrl];\n    Object.keys(CacheConstant).forEach(e => {\n        CacheStore[e] = CacheConstant[e];\n    });\n    triggerAuthToken(projectUrl);\n    updateCacheStore();\n    initTokenRefresher(builder);\n\n    if (token) {\n        TokenRefreshListener.dispatch(projectUrl, 'ready');\n        try {\n            await awaitReachableServer(projectUrl);\n\n            const [reqBuilder] = buildFetchInterface({\n                body: { token, r_token },\n                accessKey,\n                uglify,\n                serverE2E_PublicKey\n            });\n\n            const r = await (await fetch(_signOut(projectUrl, uglify), reqBuilder)).json();\n            if (r.simpleError) throw r;\n        } catch (e) {\n            throw simplifyCaughtError(e).simpleError;\n        }\n    }\n}\n\nconst doGoogleSignin = (builder, token) => new Promise(async (resolve, reject) => {\n    const { projectUrl, serverE2E_PublicKey, accessKey, uglify } = builder;\n\n    try {\n        await awaitStore();\n        const [reqBuilder, [privateKey]] = buildFetchInterface({\n            body: { token },\n            accessKey,\n            uglify,\n            serverE2E_PublicKey\n        });\n\n        const r = await (await fetch(_googleSignin(projectUrl, uglify), reqBuilder)).json();\n        if (r.simpleError) throw r;\n\n        const f = uglify ? deserializeE2E(r.e2e, serverE2E_PublicKey, privateKey) : r;\n\n        resolve({\n            user: parseToken(f.result.token),\n            token: f.result.token,\n            refreshToken: f.result.refreshToken,\n            isNewUser: f.result.isNewUser\n        });\n        await injectFreshToken(builder, f.result);\n    } catch (e) {\n        reject(simplifyCaughtError(e).simpleError);\n    }\n});\n\nconst doAppleSignin = async () => {\n\n}\n\nconst validateEmailAndPassword = () => { }\n\nconst getAuthState = async (projectUrl) => {\n\n}","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import { IS_DECIMAL_NUMBER, IS_RAW_OBJECT, IS_WHOLE_NUMBER, queryEntries } from \"../../helpers/peripherals\";\nimport { READ_OPS, READ_OPS_LIST, RETRIEVAL } from \"../../helpers/values\";\nimport getLodash from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\n\nconst dirn = ['desc', 'asc', 'ascending', 'descending'];\n\nexport const validateReadConfig = (config, excludedNodes = []) => {\n    const nodeList = [\n        'excludeFields',\n        'returnOnly',\n        'extraction',\n        'episode',\n        'retrieval',\n        'disableAuth',\n        'disableMinimizer'\n    ].filter(v => !excludedNodes.includes(v));\n\n    if (config) {\n        if (!IS_RAW_OBJECT(config)) throw `Invalid value assigned to 'config', expected a raw object`;\n        Object.entries(config).forEach(([k, v]) => {\n            if (!nodeList.includes(k)) throw `unexpected property '${k}' found in config`;\n\n            if (k === 'excludeFields' || k === 'returnOnly') {\n                if (typeof v !== 'string' && !Array.isArray(v))\n                    throw `invalid value supplied to ${k}, expected either a string or array of string`;\n                if (Array.isArray(v)) {\n                    v.forEach(e => {\n                        if (typeof e !== 'string')\n                            throw `invalid value supplied to ${k}, expected a string in array but got ${e}`;\n                    });\n                }\n            } else if (k === 'extraction') {\n                ((Array.isArray(v) ? v : [v]).forEach((e, i) => {\n                    const { limit, sort, direction, collection, find, findOne } = e;\n                    if (typeof limit === 'number' && (!IS_WHOLE_NUMBER(limit) || limit <= 0))\n                        throw `invalid value supplied to limit of extraction[${i}], expected a positive whole number but got ${limit}`;\n\n                    if (sort && typeof sort !== 'string')\n                        throw `invalid value supplied to sort in extraction[${i}], expected a string value but got ${sort}`;\n\n                    if (collection && typeof collection !== 'string')\n                        throw `invalid value supplied to collection in extraction[${i}], expected a string value but got ${collection}`;\n\n                    if (direction && direction !== 1 && direction !== -1 && !dirn.includes(direction))\n                        throw `invalid value supplied to direction in extraction[${i}], expected any of ${[1, -1, ...dirn]} but got ${direction}`;\n                }));\n            } else if (k === 'episode') {\n                if (v !== 0 && v !== 1) throw `invalid value supplied to ${k}, expected either 0 or 1 but got ${v}`;\n            } else if (k === 'retrieval') {\n                const h = Object.values(RETRIEVAL);\n                if (!h.includes(v))\n                    throw `invalid value supplied to ${k}, expected any of ${h} but got ${v}`;\n            } else if (k === 'disableAuth' || k === 'disableMinimizer') {\n                if (typeof v !== 'boolean')\n                    throw `invalid value supplied to ${k}, expected a boolean value but got ${v}`;\n            } else throw `unexpected property '${k}' found in config`;\n        });\n    }\n}\n\nexport const validateWriteValue = (value, filter, type) => {\n    const isObject = IS_RAW_OBJECT(value);\n\n    if (type === 'setOne' || type === 'setMany') {\n        if (type === 'setOne' && !isObject) {\n            throw `expected raw object in ${type}() operation but got ${value}`;\n        } else if (type === 'setMany' && !Array.isArray(value))\n            throw `expected an array of document in ${type}() operation but got ${value}`;\n\n        const duplicateID = {};\n\n        (Array.isArray(value) ? value : [value]).forEach(e => {\n            if (!IS_RAW_OBJECT(e)) throw `expected raw object in ${type}() operation but got ${e}`;\n            if (duplicateID[e._id]) throw `duplicate document _id:${e._id} found in ${type}() operation`;\n            if (!e._id) throw `No _id found in ${type}() operation`;\n            duplicateID[e._id] = true;\n        });\n        return;\n    }\n\n    if (type !== 'deleteOne' && type !== 'deleteMany')\n        if (!isObject) throw `expected raw object in ${type}() operation but got ${value}`;\n\n    validateFilter(filter);\n\n    queryEntries(value, []).forEach(([segment]) => {\n        if (segment.filter(v => v === '_foreign_doc').length)\n            throw `\"_foreign_doc\" is a reserved word, don't use it as a field in a document`;\n\n        // TODO: validate rest\n    });\n}\n\nexport const validateFilter = (filter = {}) => evaluateFilter({}, filter);\n\nexport const validateCollectionPath = (path) => {\n    if (typeof path !== 'string' || path.includes('.') || !path.trim())\n        throw `invalid collection path \"${path}\", expected non-empty string and mustn't contain \".\"`;\n}\n\nexport const confirmFilterDoc = (data, filter) => {\n    // [$and, $or]\n    const logics = [[], []];\n\n    Object.entries(filter).forEach(([key, value]) => {\n        if (key === '$and') {\n            if (!Array.isArray(value)) throw `$and must be an array`;\n            value.forEach(v => logics[0].push(evaluateFilter(data, v)));\n        } else if (key === '$or') {\n            if (!Array.isArray(value)) throw `$and must be an array`;\n            value.forEach(v => logics[1].push(evaluateFilter(data, v)));\n        } else logics[0].push(evaluateFilter(data, { [`${key}`]: value }));\n    });\n\n    return !logics[0].filter(v => !v).length && (!logics[1].length || !!logics[1].filter(v => v).length);\n}\n\nconst dataTypesValue = [\n    'double',\n    'string',\n    'object',\n    'array',\n    'decimal',\n    // 'long',\n    'int',\n    'bool',\n    'date',\n    'null',\n    'number'\n];\n\nconst { $IN, $NIN, $GT, $GTE, $LT, $LTE, $EQ, $EXISTS, $REGEX, $NE, $SIZE, $TEXT, $TYPE } = READ_OPS;\n\n// TODO: fix exact field value doc, deep nesting and other query\n\nconst evaluateFilter = (data = {}, filter = {}) => {\n    if (!IS_RAW_OBJECT(data)) throw `data must be a raw object`;\n    if (!IS_RAW_OBJECT(filter)) throw `expected a raw object but got ${filter}`;\n\n    const dataObj = { ...data },\n        logics = [];\n\n    queryEntries(filter, []).forEach(([segment, value]) => {\n        let commandSplit = segment.map((e, i) => e.startsWith('$') ? ({ $: e, i }) : null).filter(v => v);\n\n        if (commandSplit.length) {\n            const { $, i: dex } = commandSplit[0],\n                pathValue = dex ? getLodash(dataObj, segment.filter((_, i) => i < dex).join('.')) : null;\n\n            if (!READ_OPS_LIST.includes($))\n                throw `\"${$}\" operation is currently not supported`;\n\n            if ($ !== $TEXT && (dex !== segment.length - 1 || !dex))\n                throw `\"${$} must be at the last position as an operator\"`;\n\n            if ($ === $IN) {\n                if (!Array.isArray(value)) throw `The value assigned to \"${$}\" operator must be an array`;\n\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => !!value.filter(t => checkTestEquality(t, v)).length).length\n                    );\n                } else logics.push(false);\n            } else if ($ === $NIN) {\n                if (!Array.isArray(value)) throw `The value assigned to \"${$}\" operator must be an array`;\n\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => !!value.filter(t => checkTestEquality(t, v)).length).length\n                    );\n                } else logics.push(true);\n            } else if ($ === $GT) {\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => v > value).length\n                    );\n                } else logics.push(false);\n            } else if ($ === $GTE) {\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => v >= value).length\n                    );\n                } else logics.push(false);\n            } else if ($ === $LT) {\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => v < value).length\n                    );\n                } else logics.push(false);\n            } else if ($ === $LTE) {\n                if (pathValue !== undefined) {\n                    logics.push(\n                        !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                            .filter(v => v <= value).length\n                    );\n                } else logics.push(false);\n            } else if ($ === $TEXT) {\n                if (commandSplit.slice(-1)[0].$ === '$search') {\n                    const { $caseSensitive, $localFields = [], $search } = dataObj.$text;\n\n                    if (typeof value !== 'string' || typeof $search !== 'string')\n                        throw `$search must have a string value`;\n\n                    const searchTxt = $localFields.map(v => getLodash(dataObj, v || '')).map(v =>\n                        `${typeof v === 'string' ? v :\n                            Array.isArray(v) ? v.map(v => typeof v === 'string' ? v : '').join(' ').trim() : ''}`.trim()\n                    ).join(' ').trim();\n\n                    logics.push(\n                        $caseSensitive ? searchTxt.includes(value.trim()) :\n                            searchTxt.toLowerCase().includes(value.toLowerCase().trim())\n                    );\n                }\n            } else if ($ === $EQ) {\n\n            } else if ($ === $EXISTS) {\n\n            } else if ($ === $REGEX) {\n\n            } else if ($ === $NE) {\n\n            } else if ($ === $SIZE) {\n                if (!IS_WHOLE_NUMBER(value) || v < 0) throw '$size must be a positive whole number';\n                logics.push(Array.isArray(pathValue) && pathValue.length === value);\n            } else if ($ === $TYPE) {\n                if (!dataTypesValue.includes(value))\n                    throw `invalid value supplied to ${$}, mosquioto-transport only recognise \"${dataTypesValue}\" data types`;\n\n                const cock = (v) => {\n                    if (typeof v === 'number') {\n                        if (isNaN(v)) {\n                            return ((value === 'decimal' || value === 'double') && IS_DECIMAL_NUMBER(v)) || value === 'int' || value === 'number';\n                        }\n                    } else if (typeof v === 'boolean') {\n                        return value === 'bool';\n                    } else if (typeof v === 'string') {\n                        return value === 'string';\n                    } else if (v === null) {\n                        return value === 'null';\n                    } else if (v instanceof RegExp) {\n                        return value === 'regex';\n                    } else if (v instanceof Date) {\n                        return value === 'date';\n                    } else if (IS_RAW_OBJECT(v)) {\n                        return value === 'object';\n                    }\n                    return false;\n                }\n\n                logics.push(\n                    (Array.isArray(pathValue) && value === 'array') ||\n                    !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                        .filter(v => cock(v)).length\n                );\n            }\n        } else {\n            const pathValue = getLodash(dataObj, segment.join('.'));\n\n            if (pathValue !== undefined) {\n                logics.push(\n                    !!(Array.isArray(pathValue) ? pathValue : [pathValue])\n                        .filter(v => !!checkTestEquality(value, v)).length\n                );\n            } else logics.push(false);\n        }\n    });\n\n    return !logics.filter(v => !v).length;\n}\n\nconst checkTestEquality = (test, o) => {\n    if (test instanceof RegExp) {\n        if (typeof o === 'string') return test.test(o);\n        else return false;\n    } else return isEqual(test, o);\n}","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return object;\n    }\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseUnset = require('./_baseUnset');\n\n/**\n * Removes the property at `path` of `object`.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n * _.unset(object, 'a[0].b.c');\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n *\n * _.unset(object, ['a', '0', 'b', 'c']);\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n */\nfunction unset(object, path) {\n  return object == null ? true : baseUnset(object, path);\n}\n\nmodule.exports = unset;\n","import { IS_RAW_OBJECT, objToUniqueString, queryEntries, shuffleArray, sortArrayByObjectKey } from \"../../helpers/peripherals\";\nimport { awaitStore, updateCacheStore } from \"../../helpers/utils\";\nimport { CacheStore } from \"../../helpers/variables\";\nimport { confirmFilterDoc } from \"./validator\";\nimport getLodash from 'lodash/get';\nimport setLodash from 'lodash/set';\nimport unsetLodash from 'lodash/unset';\nimport isEqual from 'lodash/isEqual';\nimport { DEFAULT_DB_NAME, DEFAULT_DB_URL, DELIVERY, RETRIEVAL, WRITE_OPS, WRITE_OPS_LIST } from \"../../helpers/values\";\nimport { DatabaseRecordsListener } from \"../../helpers/listeners\";\n\nexport const listenQueryEntry = (callback, { accessId, builder, config, processId }) => {\n    let lastObj = '';\n    const { episode = 0 } = config || {};\n\n    const l = DatabaseRecordsListener.listenTo(accessId, async (dispatchId) => {\n        const cache = await getRecord(builder, accessId);\n        if (\n            cache &&\n            !isEqual(lastObj, cache[episode]) &&\n            dispatchId === processId\n        ) callback(cache[episode]);\n        lastObj = cache[episode];\n    });\n\n    return () => {\n        lastObj = undefined;\n        l();\n    }\n}\n\nexport const insertRecord = async (builder, accessId, query, value) => {\n    await awaitStore();\n    const { projectUrl, dbUrl = DEFAULT_DB_URL, dbName = DEFAULT_DB_NAME, path } = builder,\n        { extraction, excludeFields, returnOnly } = query?.config,\n        kaf = `${objToUniqueString(extraction || {})},${(excludeFields || []).join(',')},${(returnOnly || []).join(',')}`,\n        colData = getLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'data', kaf], []);\n\n    (Array.isArray(value) ? value : [value]).forEach(e => {\n        const b4DocIndex = colData.findIndex(v => v._id === e._id);\n        if (b4DocIndex === -1) {\n            colData.push(e);\n        } else colData[b4DocIndex] = e;\n    });\n\n    setLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'data', kaf], [...colData]);\n    setLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'record', accessId], {\n        query,\n        result: value,\n        registeredOn: Date.now()\n    });\n    updateCacheStore();\n}\n\nexport const getRecord = async (builder, accessId) => {\n    await awaitStore();\n    const { projectUrl, dbUrl = DEFAULT_DB_URL, dbName = DEFAULT_DB_NAME, path, command } = builder,\n        { config, find, findOne, sort, direction, limit, random } = command,\n        { extraction, excludeFields, returnOnly } = config || {},\n        kaf = `${objToUniqueString(extraction || {})},${(excludeFields || []).join(',')},${(returnOnly || []).join(',')}`,\n        colData = getLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'data', kaf], []),\n        colRecord = getLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'record', accessId]);\n\n    if (!colRecord) return null;\n    let choosenColData = colData.filter(v => confirmFilterDoc(v, findOne || find || {}));\n\n    if (random) {\n        choosenColData = shuffleArray(choosenColData);\n    } else if (sort) {\n        choosenColData = sortArrayByObjectKey(choosenColData, sort);\n        if (\n            direction === -1 ||\n            direction === 'desc' ||\n            direction === 'descending'\n        ) choosenColData = choosenColData.reverse();\n    }\n\n    if (findOne) {\n        choosenColData = choosenColData[0];\n    } else if (limit) choosenColData.filter((_, i) => i < limit);\n\n    return [choosenColData, colRecord.result];\n}\n\nexport const generateRecordID = (builder, config) => {\n    const { command, path, countDoc } = builder,\n        { find, findOne, sort, direction, limit } = command || {},\n        { extraction, retrieval = RETRIEVAL.DEFAULT, delivery = DELIVERY.DEFAULT, excludeFields = [], returnOnly = [] } = config || {},\n        accessId = `collection:${path}->excludes:${(Array.isArray(excludeFields) ? excludeFields : [excludeFields]).filter(v => v !== undefined).join(',')}->includes:${(Array.isArray(returnOnly) ? returnOnly : [returnOnly]).filter(v => v !== undefined).join(',')}->${countDoc ? 'countDoc:yes->' : ''}sort:${sort || ''}->direction:${direction || ''}->limit:${limit || ''}->${findOne ? 'findOne' : 'find'}:${objToUniqueString(findOne || find || {})}:extraction:${objToUniqueString(extraction || {})}:retrieval:${retrieval}:delivery:${delivery}`;\n\n    return accessId;\n}\n\nexport const addPendingWrites = async (builder, writeId, result) => {\n    await awaitStore();\n    const { projectUrl, dbUrl = DEFAULT_DB_URL, dbName = DEFAULT_DB_NAME, path } = builder,\n        { value: writeObj, find, type } = result,\n        isAtomic = type === 'updateOne' ||\n            type === 'updateMany' ||\n            type === 'mergeOne' ||\n            type === 'mergeMany',\n        colObj = getLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'data'], {});\n\n    let editions = [], duplicateSets = {};\n\n    Object.entries(colObj).forEach(([kaf, colList]) => {\n        let hasEndCommit, editionSet = [];\n\n        if (type === 'setOne' || type === 'setMany') {\n            (type === 'setOne' ? [writeObj] : writeObj).forEach(e => {\n                if (colList.findIndex(v => v._id === e._id) === -1) {\n                    editionSet.push({ doc: deserializeNonAtomicWrite(e), dex: 'push', docId: writeObj._id });\n                } else if (!duplicateSets[e._id])\n                    console.error(`document with _id=${e._id} already exist locally with ${type}() operation, will try committing it online`);\n                duplicateSets[e._id] = true;\n            });\n        } else {\n            colList.forEach((doc, docDex) => {\n                if (hasEndCommit) return;\n                let afDoc = undefined;\n\n                if (confirmFilterDoc(doc, find || {})) {\n                    if (type === 'deleteMany') {\n                        afDoc = null;\n                    } else if (type === 'deleteOne') {\n                        afDoc = null;\n                        hasEndCommit = true;\n                    } else if (isAtomic) {\n                        if ((deserializeAtomicWrite({}, { ...writeObj })?._id || find?._id) && type.endsWith('Many'))\n                            throw `avoid providing \"_id\" for ${type}() operation, use ${type.substring(0, type.length - 4)}One instead as _id only reference a single document`;\n\n                        afDoc = deserializeAtomicWrite({ ...doc }, { ...writeObj });\n                        if (type.endsWith('One')) hasEndCommit = true;\n                    } else {\n                        afDoc = deserializeNonAtomicWrite({ ...writeObj });\n                        hasEndCommit = true;\n                    }\n                }\n                if (afDoc !== undefined)\n                    editionSet.push({ doc: afDoc, dex: docDex, docId: doc._id, b4Doc: { ...doc } });\n            });\n        }\n\n        if (!editionSet.length) {\n            let hasNoID;\n\n            if (type === 'putOne') {\n                const nDoc = deserializeNonAtomicWrite(writeObj),\n                    nId = nDoc?._id || find?._id;\n\n                if (nId) {\n                    editionSet.push({\n                        doc: { ...nDoc, _id: nId },\n                        dex: 'push',\n                        docId: nId\n                    });\n                } else hasNoID = true;\n            } else if (type === 'mergeOne' || type === 'mergeMany') {\n                const nDoc = deserializeAtomicWrite({}, writeObj),\n                    nId = nDoc?._id || find?._id;\n\n                if (nId && type === 'mergeMany')\n                    throw `avoid providing \"_id\" for mergeMany() operation, use mergeOne instead as _id only reference a single document`;\n                if (nId) {\n                    editionSet.push({\n                        doc: { ...nDoc, _id: nId },\n                        dex: 'push',\n                        docId: nId\n                    });\n                } else hasNoID = true;\n            }\n            if (hasNoID) console.error(`no data found locally and _id was not provided for ${type}() operation, skipping local and proceeding to online commit`);\n        }\n        editions.push([kaf, editionSet]);\n    });\n\n    editions.forEach(([kaf, list]) => {\n        list.forEach(({ doc, dex, docId }) => {\n\n            if (dex === 'push') {\n                colObj[kaf].push({ ...doc });\n            } else if (doc === null) {\n                colObj[kaf] = colObj[kaf].filter(v => v._id !== docId);\n            } else {\n                colObj[kaf] = colObj[kaf].map(v => v._id === docId ? { ...doc } : v);\n            }\n        });\n    });\n\n\n    setLodash(CacheStore.PendingWrites, [projectUrl, `${dbUrl}${dbName}${path}`, writeId], {\n        find,\n        value: writeObj,\n        type,\n        editions,\n        addedOn: Date.now()\n    });\n\n    updateCacheStore();\n    notifyDatabaseNodeChanges(builder);\n}\n\nexport const removePendingWrite = async (builder, writeId, revert) => {\n    await awaitStore();\n    const { projectUrl, dbUrl = DEFAULT_DB_URL, dbName = DEFAULT_DB_NAME, path } = builder,\n        pObj = getLodash(CacheStore.PendingWrites, [projectUrl, `${dbUrl}${dbName}${path}`, writeId]),\n        colObj = getLodash(CacheStore.DatabaseStore, [projectUrl, dbUrl, dbName, path, 'data']);\n\n    if (!pObj) return;\n\n    if (revert && colObj)\n        pObj.editions.forEach(([kaf, list]) => {\n            list.forEach(({ doc, dex, docId, b4Doc }) => {\n\n                if (dex === 'push') {\n                    colObj[kaf] = colObj[kaf].filter(v => v._id !== docId);\n                } else if (doc === null) {\n                    colObj[kaf] = [...colObj[kaf], b4Doc];\n                } else {\n                    colObj[kaf] = colObj[kaf].map(v => v._id === docId ? { ...b4Doc } : v);\n                }\n            });\n        });\n\n    unsetLodash(CacheStore.PendingWrites, [projectUrl, `${dbUrl}${dbName}${path}`, writeId]);\n    updateCacheStore();\n    notifyDatabaseNodeChanges(builder);\n}\n\nexport const trySendPendingWrite = () => {\n\n}\n\nconst notifyDatabaseNodeChanges = (builder) => {\n\n}\n\nconst deserializeNonAtomicWrite = (writeObj) => {\n    const bj = {};\n\n    queryEntries(writeObj, []).forEach(([segment, value]) => {\n        if (segment[0].startsWith('$'))\n            throw `unexpected field \"${segment[0]}\"`;\n\n        if (segment.slice(-1)[0] === '$timestamp' && value === 'now') {\n            segment.pop();\n            value = Date.now();\n        }\n\n        setLodash(bj, segment.join('.'), value);\n    });\n    return bj;\n}\n\nconst deserializeAtomicWrite = (b4Doc, writeObj) => {\n    const afDoc = { ...b4Doc },\n        affectedObj = {};\n\n    queryEntries(writeObj, []).forEach(([segment, value]) => {\n        const [op, path] = [segment[0], segment.filter((_, i) => i)];\n\n        if (!WRITE_OPS_LIST.includes(op) || !path.length)\n            throw `MongoInvalidArgumentError: Update document requires atomic operators`;\n\n        if (\n            path.length > 1 &&\n            IS_RAW_OBJECT(writeObj[op][path[0]]) &&\n            !affectedObj[path[0]]\n        ) {\n            affectedObj[path[0]] = true;\n            afDoc[path[0]] = {};\n        }\n\n        const nodeValue = getLodash(b4Doc, path.join('.'));\n\n        if (op === WRITE_OPS.$UNSET) {\n            unsetLodash(afDoc, path.join('.'));\n        } else {\n            if (\n                [WRITE_OPS.$MAX, WRITE_OPS.$MIN, WRITE_OPS.$INC, WRITE_OPS.$MUL].filter(v => v === op).length &&\n                isNaN(value)\n            ) throw `expected a number for \"${op}\" operation but got ${value}`;\n\n            if (path.slice(-1)[0] === '$timestamp' && value === 'now') {\n                const k = [WRITE_OPS.$SET, WRITE_OPS.$UNSET];\n                if (!k.includes(op))\n                    throw `invalid operator for updating timestamp, expected any of ${k}`;\n                path.pop();\n                value = Date.now();\n            }\n\n            if (op === WRITE_OPS.$RENAME) {\n                if (nodeValue === undefined) return;\n                if (typeof value !== 'string') throw `${op} operator expected a string value at ${path.join('.')}`;\n                unsetLodash(afDoc, path.join('.'));\n                path[path.length - 1] = value;\n            }\n\n            setLodash(\n                afDoc,\n                path.join('.'),\n                op === WRITE_OPS.$SET ? value :\n                    op === WRITE_OPS.$INC ? (isNaN(nodeValue) ? value : nodeValue + value) :\n                        op === WRITE_OPS.$MAX ? (isNaN(nodeValue) ? value : value > nodeValue ? value : nodeValue) :\n                            op === WRITE_OPS.$MIN ? (isNaN(nodeValue) ? value : value < nodeValue ? value : nodeValue) :\n                                op === WRITE_OPS.$MUL ? (isNaN(nodeValue) ? 0 : value * nodeValue) :\n                                    op === WRITE_OPS.$PULL ? (Array.isArray(nodeValue) ? nodeValue.filter(v => !isEqual(v, value)) : [value]) :\n                                        op === WRITE_OPS.$PUSH ? (Array.isArray(nodeValue) ? [...nodeValue, value] : [value]) :\n                                            op === WRITE_OPS.$RENAME ? nodeValue :\n                                                null // TODO:\n            );\n        }\n    });\n\n    return afDoc;\n}\n","import { io } from \"socket.io-client\";\nimport EngineApi from \"../../helpers/EngineApi\";\nimport { DatabaseRecordsListener } from \"../../helpers/listeners\";\nimport { IS_WHOLE_NUMBER, cloneInstance, deserializeE2E, listenReachableServer, niceTry, serializeE2E, simplifyCaughtError } from \"../../helpers/peripherals\";\nimport { awaitStore, buildFetchInterface, getReachableServer } from \"../../helpers/utils\";\nimport { CacheStore, Scoped } from \"../../helpers/variables\";\nimport { addPendingWrites, generateRecordID, getRecord, insertRecord, listenQueryEntry, removePendingWrite } from \"./accessor\";\nimport { validateCollectionPath, validateFilter, validateReadConfig, validateWriteValue } from \"./validator\";\nimport { awaitRefreshToken, listenToken } from \"../auth/accessor\";\nimport { DEFAULT_DB_NAME, DEFAULT_DB_URL, DELIVERY, RETRIEVAL } from \"../../helpers/values\";\nimport setLodash from 'lodash/set';\n\nexport class MTCollection {\n    constructor(config) {\n        this.builder = { ...config };\n    }\n\n    find = (find) => ({\n        get: (config) => findObject({ ...this.builder, command: { find } }, config),\n        listen: (callback, error, config) => listenDocument(callback, error, { ...this.builder, command: { find } }, config),\n        count: (config) => countCollection({ ...this.builder, command: { find } }, config),\n        limit: (limit) => ({\n            get: (config) => findObject({ ...this.builder, command: { find, limit } }, config),\n            random: (config) => findObject({ ...this.builder, command: { find, limit, random: true } }, config),\n            listen: (callback, error, config) => listenDocument(callback, error, { ...this.builder, command: { find, limit } }, config),\n            sort: (sort, direction) => ({\n                get: (config) => findObject({ ...this.builder, command: { find, limit, sort, direction } }, config),\n                listen: (callback, error, config) => listenDocument(callback, error, {\n                    ...this.builder,\n                    command: { find, limit, sort, direction }\n                }, config)\n            })\n        }),\n        sort: (sort, direction) => ({\n            get: (config) => findObject({ ...this.builder, command: { find, sort, direction } }, config),\n            listen: (callback, error, config) => listenDocument(callback, error, {\n                ...this.builder,\n                command: { find, sort, direction }\n            }, config),\n            limit: (limit) => ({\n                get: (config) => findObject({ ...this.builder, command: { find, sort, direction, limit } }, config),\n                listen: (callback, error, config) => listenDocument(callback, error, {\n                    ...this.builder,\n                    command: { find, sort, direction, limit }\n                }, config)\n            })\n        })\n    });\n\n    sort = (sort, direction) => this.find().sort(sort, direction);\n\n    limit = (limit) => this.find().limit(limit);\n\n    count = (config) => countCollection({ ...this.builder }, config);\n\n    get = (config) => findObject({ ...this.builder }, config);\n\n    listen = (callback, error, config) => listenDocument(callback, error, { ...this.builder }, config);\n\n    findOne = (findOne = {}) => ({\n        listen: (callback, error, config) => listenDocument(callback, error, { ...this.builder, command: { findOne } }, config),\n        get: (config) => findObject({ ...this.builder, command: { findOne } }, config)\n    });\n\n    onDisconnect = () => ({\n        setOne: (value) => initOnDisconnectionTask({ ...this.builder }, value, 'setOne'),\n        setMany: (value) => initOnDisconnectionTask({ ...this.builder }, value, 'setMany'),\n        updateOne: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'updateOne'),\n        updateMany: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'updateMany'),\n        mergeOne: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'mergeOne'),\n        mergeMany: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'mergeMany'),\n        deleteOne: (find) => initOnDisconnectionTask({ ...this.builder, command: { find } }, null, 'deleteOne'),\n        deleteMany: (find) => initOnDisconnectionTask({ ...this.builder, command: { find } }, null, 'deleteMany'),\n        replaceOne: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'replaceOne'),\n        putOne: (find, value) => initOnDisconnectionTask({ ...this.builder, command: { find } }, value, 'putOne')\n    })\n\n    setOne = (value, config) => commitData(this.builder, value, 'setOne', config);\n\n    setMany = (value, config) => commitData(this.builder, value, 'setMany', config);\n\n    updateOne = (find, value, config) => commitData({ ...this.builder, find }, value, 'updateOne', config);\n\n    updateMany = (find, value, config) => commitData({ ...this.builder, find }, value, 'updateMany', config);\n\n    mergeOne = (find, value, config) => commitData({ ...this.builder, find }, value, 'mergeOne', config);\n\n    mergeMany = (find, value, config) => commitData({ ...this.builder, find }, value, 'mergeMany', config);\n\n    replaceOne = (find, value, config) => commitData({ ...this.builder, find }, value, 'replaceOne', config);\n\n    putOne = (find, value, config) => commitData({ ...this.builder, find }, value, 'putOne', config);\n\n    deleteOne = (find, config) => commitData({ ...this.builder, find }, null, 'deleteOne', config);\n\n    deleteMany = (find, config) => commitData({ ...this.builder, find }, null, 'deleteMany', config);\n}\n\nexport const batchWrite = (builder, map, config) => commitData({ ...builder }, map, 'batchWrite', config);\n\nconst {\n    _listenCollection,\n    _listenDocument,\n    _startDisconnectWriteTask,\n    _cancelDisconnectWriteTask,\n    _documentCount,\n    _readDocument,\n    _queryCollection,\n    _writeDocument,\n    _writeMapDocument\n} = EngineApi;\n\nconst listenDocument = (callback, onError, builder, config) => {\n    const { projectUrl, wsPrefix, serverE2E_PublicKey, baseUrl, dbUrl, dbName, accessKey, path, disableCache, command, uglify } = builder,\n        { find, findOne, sort, direction, limit } = command,\n        { disableAuth } = config || {},\n        accessId = generateRecordID(builder, config),\n        shouldCache = !disableCache,\n        processId = `${++Scoped.AnyProcessIte}`;\n\n    validateReadConfig(config, ['retrieval', 'disableAuth']);\n    validateFilter(findOne || find);\n    validateCollectionPath(path);\n\n    let hasCancelled,\n        hasRespond,\n        cacheListener,\n        socket,\n        wasDisconnected,\n        lastToken = Scoped.AuthJWTToken[projectUrl] || null,\n        lastInitRef = 0,\n        connectedListener;\n\n    if (shouldCache) {\n        cacheListener = listenQueryEntry(callback, { accessId, builder, config, processId });\n\n        connectedListener = listenReachableServer(async connected => {\n            connectedListener();\n            await awaitStore();\n            if (!connected && !hasRespond && !hasCancelled)\n                DatabaseRecordsListener.dispatch(accessId, processId);\n        }, projectUrl);\n    }\n\n    const init = async () => {\n        const processID = ++lastInitRef;\n        if (!disableAuth) await awaitRefreshToken(projectUrl);\n        if (hasCancelled || processID !== lastInitRef) return;\n\n        const mtoken = disableAuth ? undefined : Scoped.AuthJWTToken[projectUrl],\n            authObj = {\n                commands: {\n                    config,\n                    path,\n                    find: findOne || find,\n                    sort,\n                    direction,\n                    limit\n                },\n                dbName,\n                dbUrl\n            };\n\n        const [encPlate, [privateKey]] = uglify ? serializeE2E({ accessKey, _body: authObj }, mtoken, serverE2E_PublicKey) : ['', []];\n\n        socket = io(`${wsPrefix}://${baseUrl}`, {\n            auth: uglify ? { e2e: encPlate, _m_internal: true } : {\n                accessKey,\n                _body: authObj,\n                ...mtoken ? { mtoken } : {},\n                _m_internal: true\n            },\n            transports: ['websocket', 'polling', 'flashsocket']\n        });\n\n        socket.emit((findOne ? _listenDocument : _listenCollection)(uglify));\n        socket.on('mSnapshot', async ([err, snapshot]) => {\n            hasRespond = true;\n            if (err) {\n                onError?.(simplifyCaughtError(err).simpleError);\n            } else {\n                if (uglify) snapshot = deserializeE2E(snapshot, serverE2E_PublicKey, privateKey);\n                callback?.(snapshot);\n\n                if (shouldCache)\n                    insertRecord(builder, accessId, { sort, direction, limit, find, findOne, config }, snapshot);\n            }\n        });\n\n        socket.on('connect', () => {\n            if (wasDisconnected) socket.emit((findOne ? _listenDocument : _listenCollection)(uglify));\n        });\n\n        socket.on('disconnect', () => {\n            wasDisconnected = true;\n        });\n    };\n\n    init();\n\n    const tokenListener = listenToken(t => {\n        if ((t || null) !== lastToken) {\n            socket?.close?.();\n            wasDisconnected = undefined;\n            init();\n        }\n        lastToken = t;\n    }, projectUrl);\n\n    return () => {\n        if (hasCancelled) return;\n        hasCancelled = true;\n        connectedListener?.();\n        cacheListener?.();\n        tokenListener?.();\n        if (socket) socket.close();\n    }\n}\n\nconst initOnDisconnectionTask = (builder, value, type) => {\n    const { projectUrl, wsPrefix, baseUrl, serverE2E_PublicKey, dbUrl, dbName, accessKey, path, command, uglify } = builder,\n        { find } = command || {},\n        disableAuth = false;\n\n    validateCollectionPath(path);\n    let hasCancelled,\n        socket,\n        wasDisconnected,\n        lastToken = Scoped.AuthJWTToken[projectUrl] || null,\n        lastInitRef = 0;\n\n    const init = async () => {\n        const processID = ++lastInitRef;\n        if (!disableAuth) await awaitRefreshToken(projectUrl);\n        if (hasCancelled || processID !== lastInitRef) return;\n\n        const mtoken = disableAuth ? undefined : Scoped.AuthJWTToken[projectUrl],\n            authObj = {\n                commands: { path, find, value, scope: type },\n                dbName,\n                dbUrl\n            };\n\n        socket = io(`${wsPrefix}://${baseUrl}`, {\n            auth: uglify ? {\n                e2e: serializeE2E(authObj, mtoken, serverE2E_PublicKey)[0],\n                _m_internal: true\n            } : {\n                ...mtoken ? { mtoken } : {},\n                accessKey,\n                _body: authObj,\n                _m_internal: true\n            },\n            transports: ['websocket', 'polling', 'flashsocket']\n        });\n        socket.emit(_startDisconnectWriteTask(uglify));\n\n        socket.on('connect', () => {\n            if (wasDisconnected) socket.emit(_startDisconnectWriteTask(uglify));\n        });\n\n        socket.on('disconnect', () => {\n            wasDisconnected = true;\n        });\n    };\n\n    init();\n\n    const tokenListener = listenToken(async t => {\n        if ((t || null) !== lastToken) {\n            if (socket) {\n                await niceTry(() => socket.timeout(10000).emitWithAck(_cancelDisconnectWriteTask(uglify)));\n                socket.close();\n            }\n            wasDisconnected = undefined;\n            init();\n        }\n        lastToken = t;\n    }, projectUrl);\n\n    return () => {\n        if (hasCancelled) return;\n        tokenListener();\n        if (socket)\n            (async () => {\n                await niceTry(() => socket.timeout(10000).emitWithAck(_cancelDisconnectWriteTask(uglify)));\n                socket.close();\n            })();\n        hasCancelled = true;\n    }\n}\n\nconst countCollection = async (builder, config) => {\n    const { projectUrl, serverE2E_PublicKey, dbUrl, dbName, accessKey, maxRetries = 7, uglify, path, disableCache, command = {} } = builder,\n        { find } = command,\n        { disableAuth } = config || {},\n        accessId = generateRecordID({ ...builder, countDoc: true }, config);\n\n    await awaitStore();\n    validateReadConfig(config, [\n        'excludeFields',\n        'returnOnly',\n        'extraction',\n        'episode',\n        'retrieval',\n        'disableMinimizer'\n    ]);\n    validateFilter(find || {});\n    validateCollectionPath(path);\n\n    let retries = 0;\n\n    const readValue = () => new Promise(async (resolve, reject) => {\n        ++retries;\n\n        const finalize = (a, b) => {\n            if (isNaN(a)) {\n                reject(b);\n            } else resolve(a);\n        }\n\n        try {\n            if (!disableAuth && await getReachableServer(projectUrl)) await awaitRefreshToken(projectUrl);\n\n            const [reqBuilder, [privateKey]] = buildFetchInterface({\n                body: {\n                    commands: { path, find },\n                    dbName,\n                    dbUrl\n                },\n                accessKey,\n                ...disableAuth ? {} : { authToken: Scoped.AuthJWTToken[projectUrl] },\n                serverE2E_PublicKey,\n                uglify\n            });\n\n            const r = await (await fetch(_documentCount(projectUrl, uglify), reqBuilder)).json();\n            if (r.simpleError) throw r;\n\n            const f = uglify ? deserializeE2E(r.e2e, serverE2E_PublicKey, privateKey) : r;\n\n            if (!disableCache)\n                setLodash(CacheStore.DatabaseCountResult, [projectUrl, dbUrl || DEFAULT_DB_URL, dbName || DEFAULT_DB_NAME, accessId], f.result);\n\n            finalize(f.result);\n        } catch (e) {\n            const b4Data = setLodash(CacheStore.DatabaseCountResult, [projectUrl, dbUrl || DEFAULT_DB_URL, dbName || DEFAULT_DB_NAME, accessId]);\n\n            if (e?.simpleError) {\n                finalize(undefined, e.simpleError);\n            } else if (!disableCache && !isNaN(b4Data)) {\n                finalize(b4Data);\n            } else if (retries > maxRetries) {\n                finalize(undefined, { error: 'retry_limit_exceeded', message: `retry exceed limit(${maxRetries})` });\n            } else {\n                const onlineListener = listenReachableServer(connected => {\n                    if (connected) {\n                        onlineListener();\n                        readValue().then(\n                            e => { finalize(e); },\n                            e => { finalize(undefined, e); }\n                        );\n                    }\n                }, projectUrl);\n            }\n        }\n    });\n\n    const g = await readValue();\n    return g;\n}\n\nconst findObject = async (builder, config) => {\n    const { projectUrl, serverE2E_PublicKey, dbUrl, dbName, accessKey, maxRetries = 7, path, disableCache, uglify, command } = builder,\n        { find, findOne, sort, direction, limit, random } = command,\n        { retrieval = RETRIEVAL.DEFAULT, episode = 0, disableAuth, disableMinimizer } = config || {},\n        enableMinimizer = !disableMinimizer,\n        accessId = generateRecordID(builder, config),\n        processAccessId = `${accessId}${projectUrl}${dbUrl}${dbName}${retrieval}`,\n        getRecordData = () => getRecord(builder, accessId),\n        shouldCache = (retrieval === RETRIEVAL.DEFAULT ? !disableCache : true) &&\n            retrieval !== RETRIEVAL.NO_CACHE_NO_AWAIT;\n\n    await awaitStore();\n    if (shouldCache) {\n        validateReadConfig(config);\n        validateCollectionPath(path);\n        validateFilter(findOne || find);\n\n        if (typeof limit === 'number' && (!IS_WHOLE_NUMBER(limit) || limit <= 0))\n            throw `limit() has an invalid argument for \"${path}\", expected a positive whole number but got ${limit}`;\n    }\n\n    let retries = 0, hasFinalize;\n\n    const readValue = () => new Promise(async (resolve, reject) => {\n        const retryProcess = ++retries,\n            instantProcess = retryProcess === 1;\n\n        const finalize = (a, b) => {\n            const res = (instantProcess && a) ?\n                (a.liveResult || a.liveResult === null) ?\n                    (a.liveResult || undefined) :\n                    a.episode[episode] : a;\n\n            if (a) {\n                resolve(instantProcess ? res : a);\n            } else reject(b);\n            if (hasFinalize || !instantProcess) return;\n            hasFinalize = true;\n\n            if (enableMinimizer) {\n                (Scoped.PendingDbReadCollective.pendingResolution[processAccessId] || []).forEach(e => {\n                    e(a ? { result: cloneInstance(res) } : undefined, b);\n                });\n                if (Scoped.PendingDbReadCollective.pendingResolution[processAccessId])\n                    delete Scoped.PendingDbReadCollective.pendingResolution[processAccessId];\n\n                if (Scoped.PendingDbReadCollective.pendingProcess[processAccessId])\n                    delete Scoped.PendingDbReadCollective.pendingProcess[processAccessId];\n            }\n        };\n\n        try {\n            if (instantProcess) {\n                if (enableMinimizer) {\n                    if (Scoped.PendingDbReadCollective.pendingProcess[processAccessId]) {\n                        if (!Scoped.PendingDbReadCollective.pendingResolution[processAccessId])\n                            Scoped.PendingDbReadCollective.pendingResolution[processAccessId] = [];\n\n                        Scoped.PendingDbReadCollective.pendingResolution[processAccessId].push((a, b) => {\n                            if (a) resolve(a.result);\n                            else reject(b);\n                        });\n                        return;\n                    }\n                    Scoped.PendingDbReadCollective.pendingProcess[processAccessId] = true;\n                }\n\n                if (retrieval.startsWith('sticky') && await getRecordData()) {\n                    finalize({ episode: await getRecordData() });\n                    if (retrieval !== RETRIEVAL.STICKY_RELOAD) return;\n                }\n            }\n            if (!disableAuth && await getReachableServer(projectUrl))\n                await awaitRefreshToken(projectUrl);\n\n            const [reqBuilder, [privateKey]] = buildFetchInterface({\n                body: {\n                    commands: { config, path, find: findOne || find, sort, direction, limit, random },\n                    dbName,\n                    dbUrl\n                },\n                accessKey,\n                authToken: disableAuth ? undefined : Scoped.AuthJWTToken[projectUrl],\n                serverE2E_PublicKey,\n                uglify\n            });\n\n            const r = await (await fetch((findOne ? _readDocument : _queryCollection)(projectUrl, uglify), reqBuilder)).json();\n            if (r.simpleError) throw r;\n\n            const f = uglify ? deserializeE2E(r.e2e, serverE2E_PublicKey, privateKey) : r;\n\n            if (shouldCache) insertRecord(builder, accessId, { ...command, config }, f.result);\n            finalize({ liveResult: f.result || null });\n        } catch (e) {\n            if (e?.simpleError) {\n                finalize(undefined, e?.simpleError);\n            } else if (\n                (retrieval === RETRIEVAL.CACHE_NO_AWAIT && !(await getRecordData())) ||\n                retrieval === RETRIEVAL.STICKY_NO_AWAIT ||\n                retrieval === RETRIEVAL.NO_CACHE_NO_AWAIT\n            ) {\n                finalize(undefined, simplifyCaughtError(e).simpleError);\n            } else if (\n                shouldCache &&\n                (retrieval === RETRIEVAL.DEFAULT || retrieval === RETRIEVAL.CACHE_NO_AWAIT) &&\n                await getRecordData()\n            ) {\n                finalize({ episode: await getRecordData() });\n            } else if (retries > maxRetries) {\n                finalize(undefined, { error: 'retry_limit_exceeded', message: `retry exceed limit(${maxRetries})` });\n            } else {\n                const onlineListener = listenReachableServer(connected => {\n                    if (connected) {\n                        onlineListener();\n                        readValue().then(\n                            e => { finalize(e); },\n                            e => { finalize(undefined, e); }\n                        );\n                    }\n                }, projectUrl);\n            }\n        }\n    });\n\n    const g = await readValue();\n    return g;\n};\n\nconst commitData = async (builder, value, type, config) => {\n    const { projectUrl, serverE2E_PublicKey, dbUrl, dbName, accessKey, maxRetries = 7, path, find, disableCache, uglify } = builder,\n        { disableAuth, delivery = DELIVERY.DEFAULT, stepping } = config || {},\n        writeId = `${Date.now() + ++Scoped.PendingIte}`,\n        isBatchWrite = type === 'batchWrite',\n        shouldCache = (delivery === DELIVERY.DEFAULT ? !disableCache : true) &&\n            delivery !== DELIVERY.NO_CACHE &&\n            delivery !== DELIVERY.NO_AWAIT_NO_CACHE &&\n            delivery !== DELIVERY.AWAIT_NO_CACHE;\n\n    await awaitStore();\n    if (shouldCache) {\n        validateCollectionPath(path);\n        // TODO: batchWrite\n        validateWriteValue(value, builder.find, type);\n        await addPendingWrites(builder, writeId, { value, type, find });\n    }\n\n    let retries = 0, hasFinalize;\n\n    const sendValue = () => new Promise(async (resolve, reject) => {\n        const retryProcess = ++retries,\n            instantProcess = retryProcess === 1;\n\n        const finalize = (a, b, c) => {\n            const { removeCache, revertCache } = c || {};\n\n            if (!instantProcess) {\n                if (a) a = { a, c };\n                if (b) b = { b, c };\n            }\n            if (a) {\n                resolve(a);\n            } else reject(b);\n            if (hasFinalize || !instantProcess) return;\n            hasFinalize = true;\n            if (removeCache && shouldCache) removePendingWrite(builder, writeId, revertCache);\n        };\n\n        try {\n            if (!disableAuth && await getReachableServer(projectUrl))\n                await awaitRefreshToken(projectUrl);\n\n            const [reqBuilder, [privateKey]] = buildFetchInterface({\n                body: {\n                    commands: {\n                        value,\n                        ...isBatchWrite ? { stepping } : {\n                            path,\n                            scope: type,\n                            find\n                        }\n                    },\n                    dbName,\n                    dbUrl\n                },\n                accessKey,\n                serverE2E_PublicKey,\n                authToken: disableAuth ? undefined : Scoped.AuthJWTToken[projectUrl],\n                uglify\n            });\n\n            const r = await (await fetch((isBatchWrite ? _writeMapDocument : _writeDocument)(projectUrl, uglify), reqBuilder)).json();\n            if (r.simpleError) throw r;\n\n            const f = uglify ? deserializeE2E(r.e2e, serverE2E_PublicKey, privateKey) : r;\n\n            finalize({ status: 'sent', committed: f.committed }, undefined, { removeCache: true });\n        } catch (e) {\n            if (e?.simpleError) {\n                console.error(`${type} error (${path}), ${e.simpleError?.message}`);\n                finalize(undefined, e?.simpleError, { removeCache: true, revertCache: true });\n            } else if (\n                delivery === DELIVERY.NO_AWAIT ||\n                delivery === DELIVERY.CACHE_NO_AWAIT ||\n                delivery === DELIVERY.NO_AWAIT_NO_CACHE ||\n                delivery === DELIVERY.NO_CACHE\n            ) {\n                finalize(\n                    undefined,\n                    simplifyCaughtError(e).simpleError,\n                    await getReachableServer(projectUrl) ? { removeCache: true } : null\n                );\n            } else if (retries > maxRetries) {\n                finalize(undefined, { error: 'retry_limit_exceeded', message: `retry exceed limit(${maxRetries})` });\n            } else {\n                if (delivery === DELIVERY.AWAIT_NO_CACHE) {\n                    const onlineListener = listenReachableServer(connected => {\n                        if (connected) {\n                            onlineListener();\n                            sendValue().then(\n                                e => { finalize(e.a, undefined, e.c); },\n                                e => { finalize(undefined, e.b, e.c); }\n                            );\n                        }\n                    }, projectUrl);\n                } else if (shouldCache) finalize({ status: 'pending' });\n                else finalize(undefined, simplifyCaughtError(e).simpleError);\n            }\n        }\n    });\n\n    return await sendValue();\n}","import EngineApi from \"../../helpers/EngineApi\";\nimport { encodeBinary } from \"../../helpers/peripherals\";\nimport { Scoped } from \"../../helpers/variables\";\nimport { awaitReachableServer, buildFetchInterface, simplifyError } from \"../../helpers/utils\";\nimport { awaitRefreshToken } from \"../auth/accessor\";\nimport { Buffer } from \"buffer\";\n\nexport class MTStorage {\n    constructor(config) {\n        this.builder = { ...config };\n    }\n\n    uploadFile = (file, destination, onComplete, onProgress, reqOptions) => {\n        let hasCancelled = false, hasFinished = false, xhr;\n\n        (async () => {\n            let base64, buffer;\n\n            if (Buffer.isBuffer(file)) {\n                buffer = file;\n            } else if (file instanceof Blob) {\n                try {\n                    buffer = await file.arrayBuffer();\n                } catch (e) {\n                    onComplete?.({\n                        error: 'invalid_blob',\n                        message: `uploadFile() first argument has an invalid blob ${e}`\n                    });\n                    return;\n                }\n            } else if (typeof file === 'string' && file?.trim()) {\n                base64 = file.replace(/^data:\\w+\\/\\w+;base64,/, '');\n            } else {\n                onComplete?.({\n                    error: 'file_path_invalid',\n                    message: `uploadFile() first argument must either be a blob, buffer or base64 string`\n                });\n                return;\n            }\n            if (hasCancelled) return;\n            destination = destination?.trim();\n\n            const destErr = validateDestination(destination);\n\n            if (destErr) {\n                onComplete?.({ error: 'destination_invalid', message: destErr });\n                return;\n            }\n\n            const { projectUrl, accessKey } = this.builder;\n            xhr = new XMLHttpRequest();\n            const { awaitServer } = reqOptions || {};\n\n            if (awaitServer) await awaitReachableServer(projectUrl);\n            await awaitRefreshToken(projectUrl);\n\n            xhr.open('POST', EngineApi._uploadFile(projectUrl), true);\n            xhr.upload.addEventListener('progress', e => {\n                onProgress?.({ sentBtyes: e.loaded, totalBytes: e.total });\n            });\n            xhr.addEventListener('load', () => {\n                if (hasFinished || hasCancelled) return;\n                hasFinished = true;\n                try {\n                    const result = JSON.parse(xhr.responseText);\n                    if (result.status === 'success' && result.downloadUrl) {\n                        onComplete?.(undefined, result.downloadUrl);\n                    } else throw (result.simpleError || { error: 'unexpected_error', message: `An unexpected error occurred` });\n                } catch (e) {\n                    onComplete?.(e);\n                }\n            });\n            xhr.addEventListener('error', () => {\n                if (hasFinished || hasCancelled) return;\n                hasFinished = true;\n                onComplete?.({ error: 'unexpected_error', message: 'An unexpected error occurred' });\n            });\n            xhr.addEventListener('abort', () => {\n                if (hasFinished || hasCancelled) return;\n                hasFinished = true;\n                onComplete?.({ error: 'upload_aborted', message: 'The upload process was aborted' });\n            });\n            xhr.setRequestHeader('Authorization', `Bearer ${encodeBinary(accessKey)}`);\n            xhr.setRequestHeader('Accept', 'application/json');\n            xhr.setRequestHeader('Content-Type', buffer ? 'buffer/upload' : 'text/plain');\n            if (Scoped.AuthJWTToken[projectUrl]) xhr.setRequestHeader('Mosquito-Token', Scoped.AuthJWTToken[projectUrl]);\n            xhr.setRequestHeader('Mosquito-Destination', destination);\n            if (base64) xhr.setRequestHeader('Mosquito-Encoding', 'base64');\n            xhr.send(base64 || buffer);\n        })();\n\n        return () => {\n            if (hasCancelled) return;\n            hasCancelled = true;\n            if (xhr) xhr.abort();\n            setTimeout(() => {\n                onComplete?.({ error: 'upload_aborted', message: 'The upload process was aborted' });\n            }, 1);\n        }\n    }\n\n    deleteFile = (path) => deleteContent(this.builder, path);\n    deleteFolder = (path) => deleteContent(this.builder, path, true);\n}\n\nconst deleteContent = async (builder, path, isFolder) => {\n    const { projectUrl, accessKey } = builder;\n\n    try {\n        const r = await (await fetch(\n            EngineApi[isFolder ? '_deleteFolder' : '_deleteFile'](projectUrl),\n            buildFetchInterface({ path }, accessKey, Scoped.AuthJWTToken[projectUrl], 'DELETE')\n        )).json();\n        if (r.simpleError) throw r;\n        if (r.status !== 'success') throw 'operation not successful';\n    } catch (e) {\n        if (e?.simpleError) throw e.simpleError;\n        throw simplifyError('unexpected_error', `${e}`).simpleError;\n    }\n}\n\nconst validateDestination = (t = '') => {\n    t = t.trim();\n\n    if (!t || typeof t !== 'string') return `destination is required`;\n    if (t.startsWith('/') || t.endsWith('/')) return 'destination must neither start with \"/\" nor end with \"/\"';\n    let l = '', r;\n\n    t.split('').forEach(e => {\n        if (e === '/' && l === '/') r = 'invalid destination path, \"/\" cannot be side by side';\n        l = e;\n    });\n\n    return r;\n};","\nexport const TIMESTAMP = { $timestamp: \"now\" };\n\nexport const IS_TIMESTAMP = (t) => t && (typeof t.$timestamp === 'number' || t.$timestamp === 'now') && Object.keys(t).length === 1;\n\nexport const DOCUMENT_EXTRACTION = (path) => ({ $dynamicValue: path });\n\nexport const GEO_JSON = (lat, lng) => ({\n    type: \"Point\",\n    coordinates: [lng, lat],\n});\n\nexport const FIND_GEO_JSON = (location, offSetMeters, centerMeters) => ({\n    $near: {\n        $geometry: {\n            type: \"Point\",\n            coordinates: location.reverse()\n        },\n        $minDistance: centerMeters || 0,\n        $maxDistance: offSetMeters\n    }\n});","import { Buffer } from \"buffer\";\nimport { cloneInstance, deserializeE2E, listenReachableServer, objToUniqueString, serializeE2E, simplifyCaughtError } from \"../../helpers/peripherals\";\nimport { awaitStore, getReachableServer, updateCacheStore, validateRequestMethod } from \"../../helpers/utils\";\nimport { RETRIEVAL, Regexs } from \"../../helpers/values\";\nimport { CacheStore, Scoped } from \"../../helpers/variables\";\nimport { awaitRefreshToken } from \"../auth/accessor\";\n\nconst buildFetchData = (data) => {\n    const { ok, type, status, statusText, redirected, url, headers, base64, builderCred } = data;\n    const { uglified, encKey, serverKey } = builderCred;\n\n    const h = {\n        arrayBuffer: async () => Buffer.from(base64, 'base64'),\n        json: async () => JSON.parse(await h.text()),\n        text: async () => {\n            const txt = Buffer.from(base64, 'base64').toString('utf8');\n\n            if (uglified) {\n                const json = deserializeE2E(txt, serverKey, encKey);\n                return `${json}`;\n            } else return txt;\n        },\n        clone: () => ({ ...h }),\n        type,\n        status,\n        statusText,\n        redirected,\n        url,\n        ok,\n        headers: new Headers({ ...headers }),\n    };\n\n    return h;\n}\n\nexport const mfetch = async (input = '', init = {}, config) => {\n    const { projectUrl, apiUrl, serverE2E_PublicKey, method, maxRetries = 7, disableCache, accessKey, uglify } = config;\n    validateRequestMethod(method);\n\n    const { retrieval = RETRIEVAL.DEFAULT, enableMinimizer, rawApproach } = method || {},\n        isBaseUrl = Regexs.LINK().test(input),\n        disableAuth = method?.disableAuth || isBaseUrl,\n        shouldCache = (retrieval === RETRIEVAL.DEFAULT ? !disableCache : true) &&\n            retrieval !== RETRIEVAL.NO_CACHE_NO_AWAIT,\n        reqId = objToUniqueString({\n            ...init,\n            jij: { disableAuth: !!disableAuth, url: input, projectUrl, retrieval }\n        });\n\n    if ('mtoken' in (init?.headers || {}))\n        throw '\"mtoken\" in header is a reserved prop';\n\n    if ('uglified' in (init?.headers || {}))\n        throw '\"uglified\" in header is a reserved prop';\n\n    if (input.startsWith(projectUrl) && !rawApproach)\n        throw `fetchHttp first argument can not starts with projectUrl:\"${projectUrl}\", please set {rawApproach: true} if you're trying to access this url as it is`;\n\n    if (!isBaseUrl && init.body && typeof init.body !== 'string')\n        throw `\"body\" must be a string value`;\n\n    let retries = 0, hasFinalize;\n\n    const callFetch = () => new Promise(async (resolve, reject) => {\n        const retryProcess = ++retries;\n\n        const finalize = (a, b) => {\n            if (a) resolve(a);\n            else reject(b);\n            if (hasFinalize || retryProcess !== 1) return;\n            hasFinalize = true;\n\n            if (enableMinimizer) {\n                (Scoped.PendingFetchCollective.pendingResolution[reqId] || []).forEach(e => {\n                    e(cloneInstance(a), b);\n                });\n                if (Scoped.PendingFetchCollective.pendingResolution[reqId])\n                    delete Scoped.PendingFetchCollective.pendingResolution[reqId];\n\n                if (Scoped.PendingFetchCollective.pendingProcess[reqId])\n                    delete Scoped.PendingFetchCollective.pendingProcess[reqId];\n            }\n        };\n\n        await awaitStore();\n        const reqData = CacheStore.FetchedStore[reqId],\n            resolveCache = () => {\n                finalize({\n                    ...buildFetchData(reqData),\n                    fromCache: true\n                });\n            };\n\n        try {\n\n            if (retryProcess === 1) {\n                if (enableMinimizer) {\n                    if (Scoped.PendingFetchCollective.pendingProcess[reqId]) {\n                        if (!Scoped.PendingFetchCollective.pendingResolution[reqId])\n                            Scoped.PendingFetchCollective.pendingResolution[reqId] = [];\n\n                        Scoped.PendingFetchCollective.pendingResolution[reqId].push((a, b) => {\n                            if (a) resolve(a.result);\n                            else reject(b);\n                        });\n                        return;\n                    }\n                    Scoped.PendingFetchCollective.pendingProcess[reqId] = true;\n                }\n\n                if (retrieval.startsWith('sticky') && reqData) {\n                    resolveCache();\n                    if (retrieval !== RETRIEVAL.STICKY_RELOAD) return;\n                }\n            }\n\n            if (!disableAuth && await getReachableServer(projectUrl))\n                await awaitRefreshToken(projectUrl);\n\n            const mtoken = Scoped.AuthJWTToken[projectUrl],\n                uglified = (!isBaseUrl && init?.body && typeof init?.body === 'string' && uglify),\n                initType = extractHeaderItem('content-type', init?.headers);\n\n            const [reqBuilder, [privateKey]] = (uglified && isBaseUrl) ? serializeE2E(init.body, mtoken, serverE2E_PublicKey) : [null, []];\n\n            const f = await fetch(isBaseUrl ? input : `${apiUrl}/${input}`, {\n                ...isBaseUrl ? {} : { method: 'POST' },\n                ...init,\n                ...uglified ? { body: reqBuilder } : {},\n                cache: 'no-cache',\n                headers: {\n                    ...isBaseUrl ? {} : { 'Content-type': 'application/json' },\n                    ...init?.headers,\n                    ...uglified ? {\n                        uglified,\n                        'Content-type': 'text/plain',\n                        ...initType ? { 'init-content-type': initType } : {}\n                    } : {},\n                    ...((disableAuth || !mtoken || uglified || isBaseUrl) ? {} : { mtoken }),\n                    ...isBaseUrl ? {} : { authorization: `Bearer ${accessKey}` }\n                }\n            }),\n                { ok, type, status, statusText, redirected, url, headers } = f,\n                simple = headers.get('simple_error');\n\n            if (!isBaseUrl && simple) throw { simpleError: JSON.parse(simple) };\n\n            const base64 = Buffer.from(await f.arrayBuffer()).toString('base64'),\n                resObj = {\n                    builderCred: {\n                        uglified,\n                        encKey: privateKey,\n                        serverKey: serverE2E_PublicKey\n                    },\n                    base64,\n                    type,\n                    status,\n                    statusText,\n                    redirected,\n                    url,\n                    ok,\n                    headers: headerObj(headers)\n                };\n\n            if (shouldCache) {\n                CacheStore.FetchedStore[reqId] = { ...resObj };\n                updateCacheStore();\n            }\n\n            finalize(buildFetchData(resObj));\n        } catch (e) {\n            if (e?.simpleError) {\n                finalize(undefined, e.simpleError);\n            } else if (\n                (retrieval === RETRIEVAL.CACHE_NO_AWAIT && !reqData) ||\n                retrieval === RETRIEVAL.STICKY_NO_AWAIT ||\n                retrieval === RETRIEVAL.NO_CACHE_NO_AWAIT\n            ) {\n                finalize(undefined, simplifyCaughtError(e).simpleError);\n            } else if (\n                shouldCache &&\n                (retrieval === RETRIEVAL.DEFAULT || retrieval === RETRIEVAL.CACHE_NO_AWAIT) &&\n                reqData\n            ) {\n                resolveCache();\n            } else if (retries >= maxRetries) {\n                finalize(undefined, simplifyCaughtError(e).simpleError);\n            } else {\n                const listener = listenReachableServer(async online => {\n                    if (online) {\n                        listener();\n                        callFetch().then(\n                            e => {\n                                if (retryProcess === 1) {\n                                    finalize(e);\n                                } else resolve(e);\n                            },\n                            e => {\n                                if (retryProcess === 1) {\n                                    finalize(undefined, e);\n                                } else reject(e);\n                            }\n                        );\n                    }\n                }, projectUrl);\n            }\n        }\n    });\n\n    const r = await callFetch();\n    return r;\n};\n\nconst extractHeaderItem = (t = '', header) => {\n    let k;\n    Object.entries(header || {}).forEach(([key, value]) => {\n        if (key.toLowerCase() === t.toLowerCase()) k = value;\n    });\n    return k;\n}\n\nconst headerObj = (header) => {\n    const h = {};\n\n    header.forEach((v, k) => {\n        h[k] = v;\n    });\n\n    return h;\n}","//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n","import { IS_WHOLE_NUMBER, deserializeE2E, listenReachableServer, serializeE2E } from \"./helpers/peripherals\";\nimport { releaseCacheStore } from \"./helpers/utils\";\nimport { Scoped } from \"./helpers/variables\";\nimport { MTAuth } from \"./products/auth\";\nimport { MTCollection, batchWrite } from \"./products/database\";\nimport { MTStorage } from \"./products/storage\";\nimport { ServerReachableListener, TokenRefreshListener } from \"./helpers/listeners\";\nimport { initTokenRefresher, listenTokenReady, triggerAuthToken } from \"./products/auth/accessor\";\nimport { TIMESTAMP, DOCUMENT_EXTRACTION, FIND_GEO_JSON, GEO_JSON } from \"./products/database/types\";\nimport { mfetch } from \"./products/http_callable\";\nimport { io } from \"socket.io-client\";\nimport { validateCollectionPath } from \"./products/database/validator\";\nimport { CACHE_PROTOCOL, Regexs } from \"./helpers/values\";\nimport { trySendPendingWrite } from \"./products/database/accessor\";\nimport EngineApi from './helpers/EngineApi';\nimport { parse, stringify } from 'json-buffer';\n\nconst {\n    _listenCollection,\n    _listenDocument,\n    _startDisconnectWriteTask,\n    _cancelDisconnectWriteTask,\n    _listenUserVerification\n} = EngineApi;\n\nexport class MosquitoTransport {\n    constructor(config) {\n        validateMTConfig(config, this);\n        this.config = {\n            ...config,\n            uglify: config.enableE2E_Encryption,\n            apiUrl: config.projectUrl,\n            projectUrl: config.projectUrl.split('/').slice(0, -1).join('/')\n        };\n        const { projectUrl } = this.config;\n\n        this.config.secureUrl = projectUrl.startsWith('https');\n        this.config.baseUrl = projectUrl.split('://')[1];\n        this.config.wsPrefix = this.config.secureUrl ? 'wss' : 'ws';\n\n        if (!Scoped.ReleaseCacheData)\n            throw `releaseCache must be called before creating any ${this.constructor.name} instance`;\n\n        if (!Scoped.InitializedProject[projectUrl]) {\n            Scoped.InitializedProject[projectUrl] = true;\n            Scoped.LastTokenRefreshRef[projectUrl] = 0;\n            triggerAuthToken(projectUrl);\n            initTokenRefresher({ ...this.config }, true);\n\n            const socket = io(`${this.config.wsPrefix}://${projectUrl.split('://')[1]}`, {\n                transports: ['websocket', 'polling', 'flashsocket'],\n                auth: { _m_internal: true, _from_base: true }\n            });\n\n            socket.on('_signal_signout', () => {\n                this.auth().signOut();\n            });\n\n            socket.on('connect', () => {\n                ServerReachableListener.dispatch(projectUrl, true);\n            });\n            socket.on('disconnect', () => {\n                ServerReachableListener.dispatch(projectUrl, false);\n            });\n\n            listenReachableServer(c => {\n                Scoped.IS_CONNECTED[projectUrl] = c;\n                if (c) trySendPendingWrite();\n            }, projectUrl);\n\n            TokenRefreshListener.listenTo(projectUrl, v => {\n                Scoped.IS_TOKEN_READY[projectUrl] = v;\n            });\n        }\n    }\n\n    static releaseCache(prop) {\n        if (Scoped.ReleaseCacheData) throw `calling ${this.name}() multiple times is prohibited`;\n        validateReleaseCacheProp({ ...prop });\n        Scoped.ReleaseCacheData = { ...prop };\n        releaseCacheStore({ ...prop });\n    }\n\n    getDatabase = (dbName, dbUrl) => ({\n        collection: (path) => new MTCollection({\n            ...this.config,\n            path,\n            ...(dbName ? { dbName } : {}),\n            ...(dbUrl ? { dbUrl } : {})\n        })\n    });\n    collection = (path) => {\n        validateCollectionPath(path);\n        return new MTCollection({ ...this.config, path });\n    }\n    batchWrite = (map, configx) => batchWrite({ ...this.config }, map, configx);\n    auth = () => new MTAuth({ ...this.config });\n    storage = () => new MTStorage({ ...this.config });\n    fetchHttp = (endpoint, init, config) => mfetch(endpoint, init, { ...this.config, method: config });\n    listenReachableServer = (callback) => listenReachableServer(callback, this.config.projectUrl);\n\n    getSocket = (configOpts) => {\n        const { disableAuth, authHandshake } = configOpts || {},\n            { projectUrl, uglify, accessKey, serverE2E_PublicKey, wsPrefix } = this.config;\n\n        const restrictedRoute = [\n            _listenCollection,\n            _listenDocument,\n            _startDisconnectWriteTask,\n            _cancelDisconnectWriteTask,\n            _listenUserVerification\n        ];\n\n        let socketReadyCallback,\n            makeSocketCallback = () => new Promise(resolve => {\n                socketReadyCallback = resolve;\n            }),\n            socketReadyPromise = makeSocketCallback(),\n            socketListenerList = [],\n            socketListenerIte = 0;\n\n        let hasCancelled,\n            socket,\n            tokenListener,\n            clientPrivateKey;\n\n        const listenerCallback = (callback) => function () {\n            const [args, ...restArgs] = [...arguments];\n            let res;\n\n            if (uglify) {\n                res = parse(deserializeE2E(args, serverE2E_PublicKey, clientPrivateKey));\n            } else res = args;\n\n            callback?.(...res || [], ...typeof restArgs[0] === 'function' ? [function () {\n                const args = [...arguments];\n                let res;\n\n                if (uglify) {\n                    res = serializeE2E(stringify(args), undefined, serverE2E_PublicKey)[0];\n                } else res = args;\n\n                restArgs[0](res);\n            }] : []);\n        }\n\n        const emit = ({ timeout, promise, emittion: emittionx }) => new Promise(async (resolve, reject) => {\n            const [route, ...emittion] = emittionx;\n\n            if (typeof route !== 'string')\n                throw `expected ${promise ? 'emitWithAck' : 'emit'} first argument to be a string type`;\n\n            if (restrictedRoute.includes(route))\n                throw `${route} is a restricted socket path, avoid using any of ${restrictedRoute}`;\n\n            let hasResolved, stime = Date.now();\n\n            const timer = isNaN(timeout) ? undefined : setTimeout(() => {\n                hasResolved = true;\n                reject(new Error('emittion timeout'));\n            }, timeout);\n\n            await socketReadyPromise;\n            if (hasResolved) return;\n            clearTimeout(timer);\n\n            try {\n                const h = isNaN(timeout) ? socket : socket.timeout(timeout - (Date.now() - stime));\n\n                const lastEmit = emittion.slice(-1)[0],\n                    mit = typeof lastEmit === 'function' ? emittion.slice(0, -1) : emittion;\n\n                const [reqBuilder, [privateKey]] = uglify ? serializeE2E(stringify(mit), undefined, serverE2E_PublicKey) : [undefined, []];\n\n                if (typeof lastEmit === 'function' && promise)\n                    throw 'emitWithAck cannot have function in it parameter';\n\n                const p = await h[promise ? 'emitWithAck' : 'emit'](route,\n                    ...uglify ? [reqBuilder] : [mit],\n                    ...typeof lastEmit === 'function' ? [function () {\n                        const args = [...arguments][0];\n                        let res;\n\n                        if (uglify) {\n                            res = parse(deserializeE2E(args, serverE2E_PublicKey, privateKey));\n                        } else res = args;\n\n                        lastEmit(...res || []);\n                    }] : []\n                );\n\n                resolve((promise && p) ? uglify ? parse(deserializeE2E(p, serverE2E_PublicKey, privateKey))[0] : p[0] : undefined);\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        const init = async () => {\n            if (hasCancelled) return;\n            const mtoken = disableAuth ? undefined : Scoped.AuthJWTToken[projectUrl];\n            const [reqBuilder, [privateKey]] = uglify ? serializeE2E({ accessKey, a_extras: authHandshake }, mtoken, serverE2E_PublicKey) : [null, []];\n\n            socket = io(`${wsPrefix}://${projectUrl.split('://')[1]}`, {\n                transports: ['websocket', 'polling', 'flashsocket'],\n                auth: uglify ? {\n                    ugly: true,\n                    e2e: reqBuilder\n                } : {\n                    ...mtoken ? { mtoken } : {},\n                    a_extras: authHandshake,\n                    accessKey\n                }\n            });\n            clientPrivateKey = privateKey;\n\n            socketReadyCallback();\n            socketListenerList.forEach(([_, method, route, callback]) => {\n                socket[method](route, callback);\n            });\n        }\n\n        if (disableAuth) {\n            init();\n        } else {\n            let lastTokenStatus;\n\n            tokenListener = listenTokenReady(status => {\n                if (lastTokenStatus === (status || false)) return;\n\n                if (status === 'ready') {\n                    init();\n                } else {\n                    socket?.close?.();\n                    socket = undefined;\n                    socketReadyPromise = makeSocketCallback();\n                }\n                lastTokenStatus = status || false;\n            }, projectUrl);\n        }\n\n        return {\n            timeout: (timeout) => ({\n                emitWithAck: function () {\n                    return emit({\n                        timeout,\n                        promise: true,\n                        emittion: [...arguments]\n                    });\n                }\n            }),\n            emit: function () { emit({ emittion: [...arguments] }) },\n            emitWithAck: function () {\n                return emit({\n                    emittion: [...arguments],\n                    promise: true\n                });\n            },\n            on: async (route, callback) => {\n                if (restrictedRoute.includes(route))\n                    throw `${route} is a restricted socket path, avoid using any of ${restrictedRoute}`;\n                const ref = ++socketListenerIte,\n                    listener = listenerCallback(callback);\n\n                socketListenerList.push([ref, 'on', route, listener]);\n                if (socket) socket.on(route, listener);\n\n                return () => {\n                    if (socket) socket.off(route, listener);\n                    socketListenerList = socketListenerList.filter(([id]) => id !== ref);\n                }\n            },\n            once: async (route, callback) => {\n                if (restrictedRoute.includes(route))\n                    throw `${route} is a restricted socket path, avoid using any of ${restrictedRoute}`;\n                const ref = ++socketListenerIte,\n                    listener = listenerCallback(callback);\n\n                socketListenerList.push([ref, 'once', route, listener]);\n                if (socket) socket.once(route, listener);\n\n                return () => {\n                    if (socket) socket.off(route, listener);\n                    socketListenerList = socketListenerList.filter(([id]) => id !== ref);\n                }\n            },\n            destroy: () => {\n                hasCancelled = true;\n                tokenListener?.();\n                if (socket) socket.close();\n                socketListenerList = [];\n            }\n        }\n    }\n\n    wipeDatabaseCache = () => {\n\n    }\n}\n\nconst validateReleaseCacheProp = (prop) => {\n    const cacheList = [...Object.values(CACHE_PROTOCOL)];\n\n    Object.entries(prop).forEach(([k, v]) => {\n        if (k === 'cachePassword') {\n            if (typeof v !== 'string' || v.trim().length <= 0)\n                throw `Invalid value supplied to cachePassword, value must be a string and greater than 0 characters`;\n        } else if (k === 'cacheProtocol') {\n            if (!cacheList.includes(`${v}`)) throw `unknown value supplied to ${k}, expected any of ${cacheList}`;\n        } else throw `Unexpected property named ${k}`;\n    });\n}\n\nconst validator = {\n    dbName: (v) => {\n        if (typeof v !== 'string' || !v.trim())\n            throw `Invalid value supplied to dbName, value must be string and greater than one`;\n    },\n    dbUrl: (v) => {\n        if (typeof v !== 'string' || !v.trim())\n            throw `Invalid value supplied to dbUrl, value must be string and greater than one`;\n    },\n    heapMemory: (v) => {\n        if (typeof v !== 'number' || v <= 0)\n            throw `Invalid value supplied to heapMemory, value must be number and greater than zero`;\n    },\n    projectUrl: (v) => {\n        if (typeof v !== 'string' || !Regexs.LINK().test(v.trim()))\n            throw `Invalid value supplied to projectUrl, value must be a string and greater than one`;\n    },\n    disableCache: (v) => {\n        if (typeof v !== 'boolean')\n            throw `Invalid value supplied to disableCache, value must be a boolean`;\n    },\n    accessKey: (v) => {\n        if (typeof v !== 'string' || !v.trim())\n            throw `Invalid value supplied to accessKey, value must be a string and greater than one`;\n    },\n    maxRetries: (v) => {\n        if (typeof v !== 'number' || v <= 0 || !IS_WHOLE_NUMBER(v))\n            throw `Invalid value supplied to maxRetries, value must be whole number and greater than zero`;\n    },\n    enableE2E_Encryption: (v) => {\n        if (typeof v !== 'boolean')\n            throw `Invalid value supplied to enableE2E_Encryption, value must be a boolean`;\n    },\n    serverE2E_PublicKey: (v) => {\n        if (typeof v !== 'string' || !v.trim())\n            throw `Invalid value supplied to serverETE_PublicKey, value must be string and greater than one`;\n    }\n};\n\nconst validateMTConfig = (config, that) => {\n    if (typeof config !== 'object') throw `${that.constructor.name} config is not an object`;\n    const h = Object.keys(config);\n\n    for (let i = 0; i < h.length; i++) {\n        const k = h[i];\n\n        if (!validator[k]) throw `Unexpected property named ${k}`;\n        validator[k](config[k]);\n    }\n\n    if (config.enableE2E_Encryption && !config.serverE2E_PublicKey)\n        throw '\"serverE2E_PublicKey\" is missing, enabling end-to-end encryption requires a public encryption key from the server';\n    if (!config['projectUrl']) throw `projectUrl is a required property in ${that.constructor.name}() constructor`;\n    if (!config['accessKey']) throw `accessKey is a required property in ${that.constructor.name}() constructor`;\n}\n\nexport {\n    TIMESTAMP,\n    DOCUMENT_EXTRACTION,\n    FIND_GEO_JSON,\n    GEO_JSON\n};\n"],"names":["SubscriptionListener","constructor","this","listenerMap","lastTriggerValueMap","triggeredKeys","listenTo","key","callback","useLastValue","ite","triggers","node","hasCancelled","setTimeout","Object","keys","length","hasDispatched","deleteDispatch","dispatch","param","arguments","value","filter","_","i","forEach","e","AuthTokenListener","TokenRefreshListener","StoreReadyListener","ServerReachableListener","DatabaseRecordsListener","exports","CryptoJS","Math","undefined","crypto","window","self","globalThis","msCrypto","global","require","err","cryptoSecureRandomInt","getRandomValues","Uint32Array","randomBytes","readInt32LE","Error","create","F","obj","subtype","prototype","C","C_lib","lib","Base","extend","overrides","mixIn","hasOwnProperty","init","$super","apply","instance","properties","propertyName","toString","clone","WordArray","words","sigBytes","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","j","ceil","call","slice","random","nBytes","push","C_enc","enc","hexChars","bite","join","parse","hexStr","hexStrLength","parseInt","substr","Latin1","latin1Chars","String","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","decodeURIComponent","escape","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","processedWords","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","splice","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","message","_createHmacHelper","C_algo","HMAC","algo","require$$0","parseLoop","base64Str","base64StrLength","reverseMap","bitsCombined","Base64","map","_map","base64Chars","triplet","charAt","paddingChar","_reverseMap","paddingIndex","indexOf","T","abs","sin","MD5","_hash","M","offset_i","M_offset_i","H","M_offset_0","M_offset_1","M_offset_2","M_offset_3","M_offset_4","M_offset_5","M_offset_6","M_offset_7","M_offset_8","M_offset_9","M_offset_10","M_offset_11","M_offset_12","M_offset_13","M_offset_14","M_offset_15","a","b","c","d","FF","GG","HH","II","nBitsTotal","nBitsLeft","nBitsTotalH","floor","nBitsTotalL","hash","H_i","x","s","t","n","HmacMD5","W","SHA1","HmacSHA1","EvpKDF","keySize","iterations","compute","password","salt","block","derivedKey","derivedKeyWords","factory","require$$1","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","BlockCipher","SBOX","INV_SBOX","SUB_MIX_0","SUB_MIX_1","SUB_MIX_2","SUB_MIX_3","INV_SUB_MIX_0","INV_SUB_MIX_1","INV_SUB_MIX_2","INV_SUB_MIX_3","xi","sx","x2","x4","x8","RCON","AES","_nRounds","_keyPriorReset","_key","keyWords","ksRows","keySchedule","_keySchedule","ksRow","invKeySchedule","_invKeySchedule","invKsRow","encryptBlock","_doCryptBlock","decryptBlock","nRounds","s0","s1","s2","s3","round","t0","t1","t2","t3","require$$2","require$$3","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","xformMode","_xformMode","process","dataUpdate","ivSize","selectCipherStrategy","PasswordBasedCipher","SerializableCipher","cipher","encrypt","decrypt","ciphertext","StreamCipher","C_mode","mode","BlockCipherMode","iv","Encryptor","Decryptor","_cipher","_iv","CBC","xorBlock","_prevBlock","processBlock","thisBlock","Pkcs7","pad","blockSizeBytes","nPaddingBytes","paddingWord","paddingWords","padding","unpad","modeCreator","_mode","__creator","finalProcessedBlocks","CipherParams","cipherParams","formatter","OpenSSLFormatter","format","OpenSSL","openSSLStr","ciphertextWords","encryptor","cipherCfg","algorithm","_parse","OpenSSLKdf","kdf","execute","derivedParams","nacl","gf","r","Float64Array","randombytes","_0","Uint8Array","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","h","l","vn","y","yi","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","out","inp","k","o","p","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x3","x5","x6","x7","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","m","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","t4","t5","t6","t7","buffer","Uint16Array","leftover","fin","crypto_onetimeauth","outpos","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","v","sel25519","q","pack25519","neq25519","par25519","unpack25519","A","Z","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","f","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","bytes","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","crypto_sign_open","chk","num","den","den2","den4","den6","unpackneg","crypto_secretbox_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","TypeError","cleanup","arr","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","secretbox","msg","nonce","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hashLength","setPRNG","fn","aes_pkg","naclPkg","simplifyCaughtError","simpleError","simplifyError","error","IS_RAW_OBJECT","Array","isArray","Date","IS_WHOLE_NUMBER","includes","queryEntries","lastPath","exceptions","seperator","isArraySeperator","entries","objToUniqueString","values","JSON","sort","cloneInstance","listenReachableServer","projectUrl","niceTry","promise","Promise","async","resolve","serializeE2E","auth_token","serverPublicKey","pair","Buffer","from","deserializeE2E","clientPrivateKey","binaryNonce","binaryData","split","baseArray","encodeBinary","CACHE_STORAGE_PATH","DEFAULT_CACHE_PASSWORD","DEFAULT_DB_NAME","DEFAULT_DB_URL","CACHE_PROTOCOL","LOCAL_STORAGE","RETRIEVAL","STICKY","STICKY_NO_AWAIT","STICKY_RELOAD","DEFAULT","CACHE_NO_AWAIT","NO_CACHE_NO_AWAIT","DELIVERY","NO_CACHE","NO_AWAIT","NO_AWAIT_NO_CACHE","AWAIT_NO_CACHE","WRITE_OPS","$SET","$PUSH","$PULL","$UNSET","$INC","$MAX","$MIN","$MUL","$RENAME","WRITE_OPS_LIST","READ_OPS","$IN","$ALL","$NIN","$GT","$GTE","$LT","$LTE","$TEXT","$NEAR","$TYPE","$SIZE","READ_OPS_LIST","Regexs","LINK","Scoped","PendingIte","AnyProcessIte","IS_CONNECTED","IS_TOKEN_READY","InitializedProject","ReleaseCacheData","AuthJWTToken","cacheStorageReducer","TokenRefreshTimer","LastTokenRefreshRef","StorageProcessID","InitiatedForcedToken","PendingFetchCollective","pendingProcess","pendingResolution","PendingDbReadCollective","CacheStore","DatabaseStore","DatabaseRecords","DatabaseCountResult","AuthStore","PendingWrites","FetchedStore","CacheConstant","updateCacheStore","cachePassword","cacheProtocol","clearTimeout","txt","encryptString","localStorage","setItem","releaseCacheStore","builder","getItem","decryptString","Utf8Encoder","token","IsStoreReady","awaitStore","awaitReachableServer","getReachableServer","buildFetchInterface","body","accessKey","authToken","method","uglify","serverE2E_PublicKey","plate","cache","headers","Authorization","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","type","encodePacket","supportsBinary","ArrayBuffer","isView","toBuffer","encodeBuffer","isBuffer","byteOffset","byteLength","decodePacket","encodedPacket","binaryType","mapBinary","substring","toArrayBuffer","arrayBuffer","view","SEPARATOR","Emitter","mixin","on","addEventListener","event","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","cb","callbacks","emit","args","len","emitReserved","listeners","hasListeners","globalThisShim","pick","attr","acc","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","setTimeoutFn","bind","clearTimeoutFn","TransportError","reason","description","context","super","Transport","writable","query","socket","onError","readyState","doOpen","close","doClose","onClose","send","packets","write","onOpen","onData","packet","onPacket","details","pause","onPause","alphabet","prev","encode","encoded","yeast","now","str","fs","Url","spawn","XMLHttpRequest_1","XMLHttpRequest","request","response","http","https","require$$4","settings","disableHeaderCheck","defaultHeaders","Accept","assign","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseText","responseXML","status","statusText","url","user","abort","isAllowedHttpMethod","setState","setDisableHeaderCheck","state","setRequestHeader","header","toLowerCase","isAllowedHttpHeader","console","warn","getResponseHeader","getAllResponseHeaders","result","getRequestHeader","name","host","ssl","local","protocol","hostname","readFile","pathname","handleError","errno","readFileSync","port","uri","search","authBuf","agent","options","path","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","statusCode","location","newOptions","errorHandler","end","setEncoding","chunk","autoUnref","unref","contentFile","pid","syncFile","writeFileSync","execString","replace","syncProc","argv","existsSync","stdin","unlinkSync","match","errorObj","stack","ev","setImmediate","fire","XHR","XMLHttpRequestModule","empty","hasXHR2","xdomain","responseType","Request","xd","xscheme","xs","xhr","extraHeaders","withCredentials","requestTimeout","timeout","onLoad","document","index","requestsCount","requests","fromError","attachEvent","unloadHandler","constants","BINARY_TYPES","EMPTY_BUFFER","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","_mask","source","output","_unmask","bufferUtilModule","list","totalLength","target","allocUnsafe","buf","set","readOnly","unmask","env","WS_NO_BUFFER_UTIL","bufferUtil","kDone","kRun","zlib","Limiter","concurrency","pending","Infinity","jobs","job","shift","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","kError","zlibLimiter","permessageDeflate","isServer","maxPayload","_maxPayload","_options","_threshold","threshold","_isServer","_deflate","_inflate","params","concurrencyLimit","extensionName","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","configurations","normalizeParams","acceptAsServer","acceptAsClient","offers","accepted","find","Number","isInteger","decompress","done","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","inflateOnError","inflateOnData","flush","_readableState","endEmitted","createDeflateRaw","zlibDeflateOptions","deflateOnData","Z_SYNC_FLUSH","RangeError","code","_isValidUTF8","validationModule","isValidUTF8","tokenChars","WS_NO_UTF_8_VALIDATE","Writable","PerMessageDeflate","isValidStatusCode","receiver","_binaryType","_extensions","extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","startLoop","consume","dst","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","pow","controlMessage","dataMessage","er","messageLength","fragments","ErrorCtor","prefix","errorCode","captureStackTrace","randomFillSync","require$$5","applyMask","require$$6","kByteLength","maskBuffer","sender","Sender","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","_queue","frame","dataLength","merge","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","sendFrame","ping","pong","perMessageDeflate","binary","destroyed","dequeue","Reflect","cork","uncork","kCode","kData","kMessage","kReason","kTarget","kType","kWasClean","Event","defineProperty","enumerable","CloseEvent","wasClean","ErrorEvent","MessageEvent","EventTarget","handler","listener","wrapper","isBinary","callListener","_closeFrameReceived","_closeFrameSent","eventTarget","thisArg","handleEvent","dest","elem","extension","paramName","mustUnescape","isEscaping","inQuotes","start","SyntaxError","EventEmitter","net","tls","createHash","URL","require$$7","require$$8","Receiver","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","kAborted","protocolVersions","readyStates","subprotocolRegex","WebSocket","address","protocols","_closeCode","_closeMessage","_closeTimer","_paused","_protocol","_readyState","CONNECTING","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","bufferedAmount","_writableState","isPaused","onclose","onerror","onopen","onmessage","_url","setSocket","head","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setNoDelay","unshift","socketOnClose","socketOnData","socketOnEnd","socketOnError","OPEN","emitClose","CLOSED","abortHandshake","_req","CLOSING","errorEmitted","destroy","sendAfterClose","resume","needDrain","terminate","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","parsedUrl","href","isSecure","isIpcUrl","invalidUrlMessage","emitErrorAndClose","defaultPort","protocolSet","Set","req","tlsConnect","netConnect","startsWith","Connection","Upgrade","handshakeTimeout","test","has","origin","Origin","username","auth","parts","_originalIpc","_originalSecure","_originalHostOrSocketPath","listenerCount","isSameHost","authorization","cookie","res","addr","upgrade","digest","serverProt","protError","size","secWebSocketExtensions","extensionNames","connect","servername","isIP","stream","setHeader","nextTick","receiverOnFinish","read","finished","property","get","isReactNative","navigator","product","transports","forceBase64","check","ws","addEventListeners","closeEvent","lastPacket","schema","secure","timestampRequests","timestampParam","b64","encodedQuery","polling","isSSL","poll","total","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","count","doWrite","sid","xhrStatus","pollXhr","re","src","exec","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","Socket","writeBuffer","prevBufferLen","rememberUpgrade","addTrailingSlash","transportOptions","closeOnBeforeunload","qs","qry","pairs","decode","id","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","createTransport","EIO","priorWebsocketSuccess","setTransport","onDrain","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","to","onHandshake","resetPingTimeout","sendPacket","filterUpgrades","getWritablePackets","payloadSize","utf8Length","cleanupAndClose","waitForUpgrade","filteredUpgrades","withNativeArrayBuffer","withNativeBlob","Blob","withNativeFile","File","hasBinary","toJSON","deconstructPacket","buffers","packetData","_deconstructPacket","attachments","placeholder","_placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","isObject","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BINARY_EVENT","BINARY_ACK","EVENT","ACK","BinaryReconstructor","base64","takeBinaryData","nsp","next","payload","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","replacer","encodeAsString","encodeAsBinary","deconstruction","freeze","connect_error","disconnect","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queueSeq","ids","acks","flags","_opts","_autoConnect","disconnected","subEvents","subs","onpacket","active","retries","fromQueue","volatile","_addToQueue","ack","pop","_registerAckCallback","isTransportWritable","engine","notifyOutgoingListeners","_a","ackTimeout","timer","emitWithAck","withErr","reject","arg1","arg2","tryCount","responseArgs","_drainQueue","force","_packet","_sendConnectPacket","_pid","_lastOffset","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","ms","factor","jitter","attempts","duration","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","Encoder","decoder","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","skipReconnect","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","delay","onreconnect","attempt","lookup","parsed","loc","sameNamespace","forceNew","multiplex","apis","_readDocument","baseApi","ugly","_writeDocument","_deleteCollection","_queryCollection","_writeMapDocument","_customSignin","_customSignup","_googleSignin","_appleSignin","_facebookSignin","_twitterSignin","_githubSignin","_signOut","_invalidateToken","_refreshAuthToken","_downloadFile","_uploadFile","_deleteFile","_deleteFolder","staticStorage","_documentCount","_areYouOk","_listenCollection","_listenDocument","_startDisconnectWriteTask","_cancelDisconnectWriteTask","_listenUserVerification","EngineApi","MAX_32_BITS","setLargeTimeout","func","listenToken","injectFreshToken","config","refreshToken","triggerAuthToken","initTokenRefresher","parseToken","isInit","awaitRefreshToken","forceRefresh","maxRetries","tokenInfo","hasExpire","exp","rizz","processRef","remainRetries","initialRetries","isForceRefresh","lostProcess","r_token","reqBuilder","privateKey","fetch","json","e2e","invalidateToken","doSignOut","then","MTAuth","customSignin","email","doCustomSignin","customSignup","metadata","doCustomSignup","googleSignin","doGoogleSignin","appleSignin","facebookSignin","twitterSignin","githubSignin","listenVerifiedStatus","baseUrl","wsPrefix","wasDisconnected","lastToken","lastInitRef","processID","mtoken","_m_internal","verified","fatal","tokenListener","listenAuthToken","getAuthToken","listenAuth","lastTrig","initToken","tokenManager","accessToken","getAuth","signOut","forceRefreshToken","trim","isNewUser","isArray_1","_freeGlobal","freeGlobal","freeSelf","_root","Function","_Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","_getRawTag","isOwn","tag","unmasked","getRawTag","objectToString","_baseGetTag","isObjectLike_1","baseGetTag","isObjectLike","isSymbol_1","isSymbol","reIsDeepProp","reIsPlainProp","_isKey","object","isObject_1","uid","isFunction_1","coreJsData","maskSrcKey","IE_PROTO","_isMasked","funcToString","_toSource","isFunction","isMasked","toSource","reIsHostCtor","funcProto","reIsNative","RegExp","baseIsNative","getValue","_getNative","_nativeCreate","nativeCreate","_hashClear","__data__","_hashDelete","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","clear","entry","_Hash","_listCacheClear","eq_1","other","eq","_assocIndexOf","array","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","_ListCache","_Map","Map","isKeyable","_getMapData","getMapData","mapCacheClear","string","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","_MapCache","memoize","resolver","memoized","Cache","_memoizeCapped","rePropName","reEscapeChar","_stringToPath","number","quote","subString","_arrayMap","iteratee","arrayMap","symbolProto","symbolToString","_baseToString","baseToString","isKey","stringToPath","_castPath","_toKey","castPath","toKey","_baseGet","baseGet","defaultValue","stackClear","stackDelete","stackGet","stackHas","stackSet","LARGE_ARRAY_SIZE","Stack","_Stack","setCacheAdd","setCacheHas","SetCache","_arraySome","predicate","_cacheHas","arraySome","cacheHas","_equalArrays","bitmask","customizer","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","_mapToArray","_setToArray","equalArrays","mapToArray","setToArray","symbolValueOf","valueOf","_equalByTag","convert","stacked","_arrayPush","arrayPush","_baseGetAllKeys","keysFunc","symbolsFunc","_arrayFilter","resIndex","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","_getSymbols","symbol","_baseTimes","baseIsArguments","isArguments_1","stubFalse_1","root","stubFalse","freeExports","nodeType","freeModule","module","reIsUint","_isIndex","isLength_1","isLength","typedArrayTags","_baseIsTypedArray","_baseUnary","freeProcess","nodeUtil","types","binding","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseTimes","isArguments","isIndex","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","_isPrototype","Ctor","nativeKeys","transform","arg","overArg","isPrototype","arrayLikeKeys","baseKeys","isArrayLike","baseGetAllKeys","getSymbols","getAllKeys","_equalObjects","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","DataView","WeakMap","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","equalByTag","equalObjects","argsTag","arrayTag","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqual","baseIsEqual","dirn","validateReadConfig","excludedNodes","nodeList","limit","direction","collection","findOne","validateFilter","evaluateFilter","validateCollectionPath","confirmFilterDoc","logics","dataTypesValue","$EQ","$EXISTS","$REGEX","$NE","dataObj","segment","commandSplit","$","dex","pathValue","getLodash","checkTestEquality","$caseSensitive","$localFields","$search","$text","searchTxt","cock","isNaN","IS_DECIMAL_NUMBER","isEqual","getNative","baseAssignValue","configurable","assignValue","_baseSet","lastIndex","nested","newValue","baseSet","last_1","_baseSlice","baseSlice","last","parent","baseUnset","insertRecord","accessId","dbUrl","dbName","extraction","excludeFields","returnOnly","kaf","colData","b4DocIndex","findIndex","_id","setLodash","registeredOn","getRecord","command","colRecord","choosenColData","randomIndex","currentIndex","shuffleArray","left","right","sortArrayByObjectKey","reverse","generateRecordID","countDoc","retrieval","delivery","deserializeNonAtomicWrite","writeObj","bj","deserializeAtomicWrite","b4Doc","afDoc","affectedObj","op","nodeValue","unsetLodash","MTCollection","findObject","listen","listenDocument","countCollection","onDisconnect","setOne","initOnDisconnectionTask","setMany","updateOne","updateMany","mergeOne","mergeMany","deleteOne","deleteMany","replaceOne","putOne","commitData","disableCache","disableAuth","shouldCache","processId","hasRespond","cacheListener","connectedListener","listenQueryEntry","lastObj","episode","dispatchId","authObj","commands","encPlate","_body","snapshot","scope","readValue","b4Data","onlineListener","disableMinimizer","enableMinimizer","processAccessId","getRecordData","hasFinalize","instantProcess","liveResult","stepping","writeId","isBatchWrite","validateWriteValue","duplicateID","isAtomic","colObj","editions","duplicateSets","colList","hasEndCommit","editionSet","doc","docId","docDex","endsWith","hasNoID","nDoc","nId","addedOn","addPendingWrites","sendValue","removeCache","revertCache","revert","pObj","removePendingWrite","committed","MTStorage","uploadFile","file","destination","onComplete","onProgress","reqOptions","hasFinished","destErr","validateDestination","awaitServer","upload","sentBtyes","loaded","totalBytes","downloadUrl","deleteFile","deleteContent","deleteFolder","isFolder","TIMESTAMP","$timestamp","DOCUMENT_EXTRACTION","$dynamicValue","GEO_JSON","lat","lng","coordinates","FIND_GEO_JSON","offSetMeters","centerMeters","$near","$geometry","$minDistance","$maxDistance","buildFetchData","ok","redirected","builderCred","uglified","encKey","serverKey","text","Headers","extractHeaderItem","headerObj","first","ignore","MosquitoTransport","validateMTConfig","enableE2E_Encryption","apiUrl","secureUrl","_from_base","releaseCache","prop","validateReleaseCacheProp","getDatabase","batchWrite","configx","storage","fetchHttp","input","rawApproach","isBaseUrl","reqId","jij","callFetch","retryProcess","reqData","resolveCache","fromCache","initType","simple","resObj","online","mfetch","getSocket","configOpts","authHandshake","restrictedRoute","socketReadyCallback","makeSocketCallback","socketReadyPromise","socketListenerList","socketListenerIte","listenerCallback","restArgs","emittion","emittionx","route","hasResolved","stime","lastEmit","mit","a_extras","lastTokenStatus","listenTokenReady","ref","wipeDatabaseCache","cacheList","validator","heapMemory","that"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,54,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,159,160,161,162,163,164,165,166,167,168,174]}